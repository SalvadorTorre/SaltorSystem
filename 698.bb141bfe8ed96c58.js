"use strict";(self.webpackChunkSaltorSystem=self.webpackChunkSaltorSystem||[]).push([[698],{7698:(j,n,i)=>{i.r(n),i.d(n,{ModuloDespachadores:()=>g});var c=i(177),r=i(9417),p=i(8871),m=i(8032),h=i.n(m),e=i(8699),f=i(9287);let D=(()=>{class t{constructor(a){this.http=a,this.baseUrl="http://localhost:3000/api"}getByCodigo(a){return this.http.GetRequest(`/despachador/${a}`)}guardarDespachador(a){return this.http.PostRequest("/despachadores",a)}editarDespachador(a,o){return this.http.PutRequest(`/despachadores/${a}`,o)}obtenerDespachadores(){return this.http.GetRequest("/despachadores")}eliminarDespachador(a){return this.http.DeleteRequest(`/despachadores/${a}`,"")}static{this.\u0275fac=function(o){return new(o||t)(e.KVO(f.a))}}static{this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function b(t,u){if(1&t){const a=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td",39)(10,"div",40),e.EFF(11),e.k0s()(),e.j41(12,"td")(13,"button",41),e.bIt("click",function(s){const l=e.eBV(a).$implicit;return e.XpG().editarDespachador(l),e.Njj(s.stopPropagation())}),e.nrm(14,"i",42),e.k0s(),e.EFF(15," \xa0 "),e.j41(16,"button",41),e.bIt("click",function(){const d=e.eBV(a).$implicit,l=e.XpG();return e.Njj(l.eliminarDespachador(d.CodDesp))}),e.nrm(17,"i",43),e.k0s()()()}if(2&t){const a=u.$implicit;e.R7$(2),e.JRh(a.CodDesp),e.R7$(2),e.JRh(a.nomDesp),e.R7$(2),e.JRh(a.cedDesp),e.R7$(2),e.JRh(a.tipoDesp),e.R7$(2),e.Y8G("ngClass",a.statusDespachadores?"chofer-activo":"chofer-inactivo"),e.R7$(1),e.SpI(" ",a.statusDespachadores?"Activo":"Inactivo"," ")}}function F(t,u){if(1&t&&(e.j41(0,"button",44),e.EFF(1),e.k0s()),2&t){const a=e.XpG();e.R7$(1),e.SpI(" ",a.modoedicionDespachador?"Editar":"Guardar"," ")}}const v=[{path:"",component:(()=>{class t{constructor(a,o){this.fb=a,this.despachadoresService=o,this.habilitarBusqueda=!1,this.despachadoresList=[],this.modoedicionDespachador=!1,this.habilitarFormiarioDespachador=!1,this.modoconsultaDespachador=!1,this.crearFormularioDespachador()}ngOnInit(){this.obtenerDespachadores()}crearFormularioDespachador(){this.formularioDespachador=this.fb.group({nomDesp:["",r.k0.required],tipoDesp:[!0,r.k0.required],statusDespachadores:[!0,r.k0.required],cedDesp:["",r.k0.required]})}habilitarBuscador(){this.habilitarBusqueda=!1}nuevoDespachador(){this.modoedicionDespachador=!1,this.tituloModalDespachador="Agregar Despachador",$("#modaldespachador").modal("show"),this.habilitarBusqueda=!0}editarDespachador(a){this.choferesId=a.CodDesp,this.modoedicionDespachador=!0,this.formularioDespachador.patchValue(a),this.tituloModalDespachador="Editar Despachador",$("#modaldespachador").modal("show"),this.habilitarBusqueda=!0}obtenerDespachadores(){this.despachadoresService.obtenerDespachadores().subscribe(a=>{console.log(a),this.despachadoresList=a.data})}consultarDespachador(a){this.tituloModalDespachador="Consultar Despachador",this.formularioDespachador.patchValue(a),$("#modaldespachador").modal("show"),this.habilitarFormiarioDespachador=!0,this.modoconsultaDespachador=!0,this.habilitarBusqueda=!0}cerrarModalDespachador(){this.habilitarFormiarioDespachador=!1,this.formularioDespachador.reset(),this.modoedicionDespachador=!1,this.modoconsultaDespachador=!1,$("#modaldespachador").modal("hide"),this.crearFormularioDespachador()}guardarDespachador(){console.log(this.formularioDespachador.value),this.formularioDespachador.valid?this.modoedicionDespachador?this.despachadoresService.editarDespachador(this.choferesId,this.formularioDespachador.value).subscribe(a=>{h().fire({title:"Excelente!",text:"Despachador editado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.obtenerDespachadores(),this.formularioDespachador.reset(),this.crearFormularioDespachador(),$("#modaldespachador").modal("hide")}):this.despachadoresService.guardarDespachador(this.formularioDespachador.value).subscribe(a=>{h().fire({title:"Excelente!",text:"Despachador guardado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.obtenerDespachadores(),this.formularioDespachador.reset(),this.crearFormularioDespachador(),$("#modaldespachador").modal("hide")}):alert("Formulario Despachador Incompleto")}eliminarDespachador(a){h().fire({title:"\xbfEst\xe1 seguro de eliminar el despachador?",text:"\xa1No podr\xe1 revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!"}).then(o=>{o.isConfirmed&&this.despachadoresService.eliminarDespachador(a).subscribe(s=>{h().fire({title:"Excelente!",text:"Despachador eliminado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.obtenerDespachadores()})})}static{this.\u0275fac=function(o){return new(o||t)(e.rXU(r.ok),e.rXU(D))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["Despachadores"]],decls:79,vars:6,consts:[[1,"card",2,"height","87vh"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-2"],["for",""],["type","text","placeholder","Digite codigo",1,"form-control",3,"disabled"],[1,"col-3"],["type","text","placeholder","Digite el Nombre...",1,"form-control",3,"disabled"],[1,"btn","btn-primary","mt-4",3,"click"],[1,"table-responsive",2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-hover","table-striped","table-sm"],[1,"table-dark"],[4,"ngFor","ngForOf"],["id","modaldespachador","tabindex","-1","aria-labelledby","modalSuplidorLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalSuplidorLabel",1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"col"],[1,"form-group"],["for","su_rncSupl"],["type","text","formControlName","nomDesp",1,"form-control"],[1,"col-4"],["for","su_nomSupl"],["formControlName","cedDesp",1,"form-control"],["formControlName","tipoDesp",1,"form-control"],["disabled","","selected","","value",""],["value","H"],["value","F"],[1,"form-check","mt-4"],["type","checkbox","formControlName","statusDespachadores","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"col","d-flex","justify-content-end"],["type","submit","class","btn btn-success",4,"ngIf"],[1,"text-center"],[3,"ngClass"],[1,"btn","btn-link",3,"click"],[1,"bi","bi-pencil","text-primary"],[1,"bi","bi-trash","text-danger"],["type","submit",1,"btn","btn-success"]],template:function(o,s){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Despachadores"),e.k0s()(),e.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),e.EFF(8,"Buscar Codigo"),e.k0s(),e.nrm(9,"input",6),e.k0s(),e.j41(10,"div",7)(11,"label",5),e.EFF(12,"Buscar Nombre"),e.k0s(),e.nrm(13,"input",8),e.k0s(),e.j41(14,"div",7)(15,"button",9),e.bIt("click",function(){return s.nuevoDespachador()}),e.EFF(16," Nuevo Despachador "),e.k0s()()(),e.nrm(17,"br"),e.j41(18,"div",10)(19,"table",11)(20,"thead",12)(21,"tr")(22,"th"),e.EFF(23,"C\xf3digo"),e.k0s(),e.j41(24,"th"),e.EFF(25,"Nombre"),e.k0s(),e.j41(26,"th"),e.EFF(27,"C\xe9dula"),e.k0s(),e.j41(28,"th"),e.EFF(29,"Tipo"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Status"),e.k0s(),e.nrm(32,"th"),e.k0s()(),e.j41(33,"tbody"),e.DNE(34,b,18,6,"tr",13),e.k0s()()(),e.nrm(35,"br"),e.j41(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",17)(40,"h1",18),e.EFF(41),e.k0s(),e.j41(42,"button",19),e.bIt("click",function(){return s.cerrarModalDespachador()}),e.k0s()(),e.j41(43,"div",20)(44,"div",21)(45,"form",22),e.bIt("ngSubmit",function(){return s.guardarDespachador()}),e.j41(46,"div",3)(47,"div",23)(48,"div",24)(49,"label",25),e.EFF(50,"Nombre de despachador"),e.k0s(),e.nrm(51,"input",26),e.k0s()()(),e.nrm(52,"br"),e.j41(53,"div",3)(54,"div",27)(55,"div",24)(56,"label",28),e.EFF(57,"C\xe9dula"),e.k0s(),e.nrm(58,"input",29),e.k0s()(),e.j41(59,"div",27)(60,"div",24)(61,"label",28),e.EFF(62,"Tipo"),e.k0s(),e.j41(63,"select",30)(64,"option",31),e.EFF(65," Escoge uno... "),e.k0s(),e.j41(66,"option",32),e.EFF(67,"Hierro"),e.k0s(),e.j41(68,"option",33),e.EFF(69,"Forja"),e.k0s()()()(),e.j41(70,"div",7)(71,"div",34),e.nrm(72,"input",35),e.j41(73,"label",36),e.EFF(74," Status "),e.k0s()()()(),e.nrm(75,"br"),e.j41(76,"div",3)(77,"div",37),e.DNE(78,F,2,1,"button",38),e.k0s()()()()()()()()()()),2&o&&(e.R7$(9),e.Y8G("disabled",s.habilitarFormiarioDespachador),e.R7$(4),e.Y8G("disabled",s.habilitarFormiarioDespachador),e.R7$(21),e.Y8G("ngForOf",s.despachadoresList),e.R7$(7),e.SpI(" ",s.tituloModalDespachador," "),e.R7$(4),e.Y8G("formGroup",s.formularioDespachador),e.R7$(33),e.Y8G("ngIf",!s.modoconsultaDespachador))},dependencies:[c.YU,c.Sq,c.bT,r.qT,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.cb,r.j4,r.JD],styles:[".chofer-activo[_ngcontent-%COMP%]{height:22px;width:80px;background-color:#529fbb;border-radius:8px;color:#fff;font-size:14px;text-align:center}.chofer-inactivo[_ngcontent-%COMP%]{height:22px;width:80px;background-color:#707271;border-radius:8px;color:#fff;font-size:14px;text-align:center}"]})}}return t})()}];let k=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(v),p.iI]})}}return t})(),g=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[c.MD,k,r.X1]})}}return t})()}}]);