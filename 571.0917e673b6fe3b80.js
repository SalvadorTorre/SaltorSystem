"use strict";(self.webpackChunkSaltorSystem=self.webpackChunkSaltorSystem||[]).push([[571],{571:(S,l,c)=>{c.r(l),c.d(l,{ModuloGrupoMercancias:()=>v});var p=c(177),h=c(9417),g=c(8871),d=c(4412),m=c(152),b=c(3294),F=c(5558),t=c(8699),P=c(2891);function f(r,o){if(1&r&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"button",22),t.nrm(9,"i",23),t.k0s(),t.EFF(10," \xa0 "),t.j41(11,"button",22),t.nrm(12,"i",24),t.k0s()()()),2&r){const i=o.$implicit;t.R7$(2),t.JRh(i.Codgrupo),t.R7$(2),t.JRh(i.Descgrupo),t.R7$(2),t.JRh(i.Tipomerc)}}function M(r,o){if(1&r){const i=t.RV6();t.j41(0,"li",15)(1,"a",25),t.bIt("click",function(){const s=t.eBV(i).$implicit,n=t.XpG();return t.Njj(n.changePage(s))}),t.EFF(2),t.k0s()()}if(2&r){const i=o.$implicit,a=t.XpG();t.AVh("active",a.currentPage===i),t.R7$(2),t.JRh(i)}}const j=[{path:"",component:(()=>{class r{constructor(i,a){this.fb=i,this.servicioGrupomerc=a,this.habilitarBusqueda=!1,this.grupoMercList=[],this.maxChars=30,this.remainingChars=this.maxChars,this.totalItems=0,this.pageSize=8,this.currentPage=1,this.maxPagesToShow=5,this.codigo="",this.descripcion="",this.codigoSubject=new d.t(""),this.descripcionSubject=new d.t(""),this.codigoSubject.pipe((0,m.B)(1e3),(0,b.F)(),(0,F.n)(e=>(this.codigo=e,this.servicioGrupomerc.obtenerGrupoMercancias(this.currentPage,this.pageSize,this.codigo,this.descripcion)))).subscribe(e=>{this.grupoMercList=e.data,this.totalItems=e.pagination.total,this.currentPage=e.pagination.page}),this.descripcionSubject.pipe((0,m.B)(1e3),(0,b.F)(),(0,F.n)(e=>(console.log("descripcion",e),this.descripcion=e,this.servicioGrupomerc.obtenerGrupoMercancias(this.currentPage,this.pageSize,this.codigo,this.descripcion)))).subscribe(e=>{this.grupoMercList=e.data,this.totalItems=e.pagination.total,this.currentPage=e.pagination.page})}ngOnInit(){this.obtenerGrupoMercancias(1)}onCodigoInput(i){this.codigoSubject.next(i.target.value.toUpperCase())}onDescripcionInput(i){this.descripcionSubject.next(i.target.value.toUpperCase())}nuevoProducto(){this.tituloModalProducto="Agregar Producto",$("#modalProducto").modal("show")}obtenerGrupoMercancias(i){this.servicioGrupomerc.obtenerGrupoMercancias(i,this.pageSize).subscribe(a=>{this.grupoMercList=a.data,this.totalItems=a.pagination.total,this.currentPage=i})}changePage(i){this.currentPage=i;const a=this.codigoSubject.getValue(),e=this.descripcionSubject.getValue();this.servicioGrupomerc.obtenerGrupoMercancias(this.currentPage,this.pageSize,a,e).subscribe(s=>{this.grupoMercList=s.data,this.totalItems=s.pagination.total,this.currentPage=i})}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){const i=this.totalPages,a=this.currentPage,e=this.maxPagesToShow;if(i<=e)return Array.from({length:i},(G,u)=>u+1);const s=Math.max(1,a-Math.floor(e/2)),n=Math.min(i,s+e-1);return Array.from({length:n-s+1},(G,u)=>s+u)}static{this.\u0275fac=function(a){return new(a||r)(t.rXU(h.ok),t.rXU(P.e))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["Grupomerc"]],decls:47,vars:10,consts:[[1,"card",2,"height","85vh"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-2"],["for",""],["type","text","placeholder","Digite codigo",1,"form-control","uppercase",3,"input"],[1,"col-3"],["type","text","placeholder","Digite descripcion...",1,"form-control","uppercase",3,"input"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","table-striped","table-sm"],[1,"table-dark"],[4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"btn","btn-link"],[1,"bi","bi-pencil","text-warning"],[1,"bi","bi-trash","text-danger"],[1,"page-link",3,"click"]],template:function(a,e){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h4"),t.EFF(3,"Modulo Grupo de Mercanc\xedas"),t.k0s()(),t.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),t.EFF(8,"Buscar Codigo"),t.k0s(),t.j41(9,"input",6),t.bIt("input",function(n){return e.onCodigoInput(n)}),t.k0s()(),t.j41(10,"div",7)(11,"label",5),t.EFF(12,"Buscar Descripcion"),t.k0s(),t.j41(13,"input",8),t.bIt("input",function(n){return e.onDescripcionInput(n)}),t.k0s()()(),t.nrm(14,"br"),t.j41(15,"div",9)(16,"table",10)(17,"thead",11)(18,"tr")(19,"th"),t.EFF(20,"C\xf3digo"),t.k0s(),t.j41(21,"th"),t.EFF(22,"Descripci\xf3n"),t.k0s(),t.j41(23,"th"),t.EFF(24,"Tipo"),t.k0s(),t.nrm(25,"th"),t.k0s()(),t.j41(26,"tbody"),t.DNE(27,f,13,3,"tr",12),t.k0s()()(),t.j41(28,"nav",13)(29,"ul",14)(30,"li",15)(31,"a",16),t.bIt("click",function(){return e.changePage(1)}),t.j41(32,"span",17),t.EFF(33,"\xab\xab"),t.k0s()()(),t.j41(34,"li",15)(35,"a",18),t.bIt("click",function(){return e.changePage(e.currentPage-1)}),t.j41(36,"span",17),t.EFF(37,"\xab"),t.k0s()()(),t.DNE(38,M,3,3,"li",19),t.j41(39,"li",15)(40,"a",20),t.bIt("click",function(){return e.changePage(e.currentPage+1)}),t.j41(41,"span",17),t.EFF(42,"\xbb"),t.k0s()()(),t.j41(43,"li",15)(44,"a",21),t.bIt("click",function(){return e.changePage(e.totalPages)}),t.j41(45,"span",17),t.EFF(46,"\xbb\xbb"),t.k0s()()()()()()()),2&a&&(t.R7$(27),t.Y8G("ngForOf",e.grupoMercList),t.R7$(3),t.AVh("disabled",1===e.currentPage),t.R7$(4),t.AVh("disabled",1===e.currentPage),t.R7$(4),t.Y8G("ngForOf",e.pages),t.R7$(1),t.AVh("disabled",e.currentPage===e.totalPages),t.R7$(4),t.AVh("disabled",e.currentPage===e.totalPages))},dependencies:[p.Sq]})}}return r})()}];let k=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(j),g.iI]})}}return r})(),v=(()=>{class r{static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[p.MD,k,h.X1]})}}return r})()}}]);