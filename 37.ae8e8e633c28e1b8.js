"use strict";(self.webpackChunkSaltorSystem=self.webpackChunkSaltorSystem||[]).push([[37],{5037:(v,g,r)=>{r.r(g),r.d(g,{ModuloZona:()=>f});var h=r(177),c=r(9417),u=r(8871),p=r(4412),t=r(8699),m=r(9591);function b(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"i",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.editarZona(o))}),t.k0s(),t.j41(7,"i",22),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.eliminarZona(o))}),t.k0s()()()}if(2&i){const e=l.$implicit;t.R7$(2),t.JRh(e.zo_codZona),t.R7$(2),t.JRh(e.zo_descrip)}}function Z(i,l){if(1&i){const e=t.RV6();t.j41(0,"li",14)(1,"a",23),t.bIt("click",function(){const o=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.changePage(o))}),t.EFF(2),t.k0s()()}if(2&i){const e=l.$implicit,n=t.XpG();t.AVh("active",n.currentPage===e),t.R7$(2),t.JRh(e)}}const k=[{path:"",component:(()=>{class i{constructor(e,n){this.fb=e,this.servicioZona=n,this.habilitarBusqueda=!1,this.zonasList=[],this.zonadescripcion="",this.totalItems=0,this.pageSize=3,this.currentPage=1,this.maxPagesToShow=5,this.txtdescripcion="",this.txtcodigo="",this.codSuplidor="",this.descripcion="",this.codigoBuscar=new p.t(""),this.descripcionBuscar=new p.t(""),this.crearFormularioZona()}ngOnInit(){this.getAllZona()}crearFormularioZona(){this.formularioZona=this.fb.group({zo_descrip:["",c.k0.required]})}habilitarBuscador(){this.habilitarBusqueda=!1}nuevoZona(){this.tituloModalZona="Agregar Cliente",$("#modalcliente").modal("show")}editarZona(e){this.zonacodigo=e.zo_codZona,this.zonadescripcion=e.zo_descrip}getAllZona(){this.servicioZona.obtenerTodasZonas().subscribe(e=>{console.log(e),this.zonasList=e.data})}gualdarZona(){""!=this.zonadescripcion?this.servicioZona.guardarZona({zo_descrip:this.zonadescripcion.toUpperCase()}).subscribe(e=>{alert("Zona guardado correctamente"),this.getAllZona(),this.zonadescripcion="",this.zonacodigo=""}):alert("Formulario Zona")}eliminarZona(e){this.zonacodigo=e.zo_codZona,this.zonadescripcion=e.zo_descrip}changePage(e){this.currentPage=e,this.codigoBuscar.getValue();const a=this.descripcionBuscar.getValue();this.servicioZona.buscarTodasZonas(this.currentPage,this.pageSize,a).subscribe(o=>{this.zonasList=o.data,this.totalItems=o.pagination.total,this.currentPage=e})}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){const e=this.totalPages,n=this.currentPage,a=this.maxPagesToShow;if(e<=a)return Array.from({length:e},(F,d)=>d+1);const o=Math.max(1,n-Math.floor(a/2)),s=Math.min(e,o+a-1);return Array.from({length:s-o+1},(F,d)=>o+d)}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(c.ok),t.rXU(m.x))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["Zona"]],decls:48,vars:12,consts:[[1,"card",2,"height","87vh"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-2"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","mt-4",3,"click"],[1,"table-responsive",2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-hover","table-striped","table-sm"],[1,"table-dark"],[4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],[1,"bi","bi-pencil","text-primary",2,"padding","10px",3,"click"],[1,"bi","bi-trash","text-danger",2,"padding","10px",3,"click"],[1,"page-link",3,"click"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Zona"),t.k0s()(),t.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"label"),t.EFF(8,"Codigo Zona"),t.k0s(),t.j41(9,"input",5),t.bIt("ngModelChange",function(s){return a.zonacodigo=s}),t.k0s()(),t.j41(10,"div",4)(11,"label"),t.EFF(12,"Descripcion Zona"),t.k0s(),t.j41(13,"input",6),t.bIt("ngModelChange",function(s){return a.zonadescripcion=s}),t.k0s()(),t.j41(14,"div",4)(15,"button",7),t.bIt("click",function(){return a.gualdarZona()}),t.EFF(16," Nuevo Zona "),t.k0s()()(),t.nrm(17,"br"),t.j41(18,"div",8)(19,"table",9)(20,"thead",10)(21,"tr")(22,"th"),t.EFF(23,"Codigo"),t.k0s(),t.j41(24,"th"),t.EFF(25,"Descripcion"),t.k0s(),t.nrm(26,"th"),t.k0s()(),t.j41(27,"tbody"),t.DNE(28,b,8,2,"tr",11),t.k0s()()(),t.j41(29,"nav",12)(30,"ul",13)(31,"li",14)(32,"a",15),t.bIt("click",function(){return a.changePage(1)}),t.j41(33,"span",16),t.EFF(34,"\xab\xab"),t.k0s()()(),t.j41(35,"li",14)(36,"a",17),t.bIt("click",function(){return a.changePage(a.currentPage-1)}),t.j41(37,"span",16),t.EFF(38,"\xab"),t.k0s()()(),t.DNE(39,Z,3,3,"li",18),t.j41(40,"li",14)(41,"a",19),t.bIt("click",function(){return a.changePage(a.currentPage+1)}),t.j41(42,"span",16),t.EFF(43,"\xbb"),t.k0s()()(),t.j41(44,"li",14)(45,"a",20),t.bIt("click",function(){return a.changePage(a.totalPages)}),t.j41(46,"span",16),t.EFF(47,"\xbb\xbb"),t.k0s()()()()()()()),2&n&&(t.R7$(9),t.Y8G("ngModel",a.zonacodigo),t.R7$(4),t.Y8G("ngModel",a.zonadescripcion),t.R7$(15),t.Y8G("ngForOf",a.zonasList),t.R7$(3),t.AVh("disabled",1===a.currentPage),t.R7$(4),t.AVh("disabled",1===a.currentPage),t.R7$(4),t.Y8G("ngForOf",a.pages),t.R7$(1),t.AVh("disabled",a.currentPage===a.totalPages),t.R7$(4),t.AVh("disabled",a.currentPage===a.totalPages))},dependencies:[h.Sq,c.me,c.BC,c.vS],styles:[".table-responsive[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}"]})}}return i})()}];let _=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(k),u.iI]})}}return i})(),f=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[h.MD,_,c.X1,c.YN]})}}return i})()}}]);