"use strict";(self.webpackChunkSaltorSystem=self.webpackChunkSaltorSystem||[]).push([[325],{6325:(nt,E,d)=>{d.r(E),d.d(E,{ModuloPendiente:()=>ot});var l=d(9417),b=d(177),C=d(8871),_=d(4412),T=d(8032),g=d.n(T),S=d(5378),R=d(4941),D=d.n(R),t=d(8699),M=d(1757),G=d(3290),N=d(9287),V=d(9743),A=d(6687),O=d(8747),z=d(333),U=d(1919),Y=d(151);const B=["codigoInput"],L=["descripcionInput"],X=["Tabladetalle"],J=["cantidadInput"],K=["buscarcodmercInput"];function W(s,h){if(1&s&&(t.j41(0,"option",99),t.EFF(1),t.k0s()),2&s){const e=h.$implicit;t.Y8G("value",e.fp_codfpago),t.R7$(1),t.SpI(" ",e.fp_descfpago," ")}}const Z=function(s){return{"table-primary":s}};function H(s,h){if(1&s){const e=t.RV6();t.j41(0,"tr",100)(1,"td",101),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.consultarFacturacion(n))}),t.EFF(2),t.k0s(),t.j41(3,"td",102),t.EFF(4),t.k0s(),t.j41(5,"td",103),t.EFF(6),t.k0s(),t.j41(7,"td",104),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"i",105),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.consultarFacturacion(n))}),t.k0s()()()}if(2&s){const e=h.$implicit,o=t.XpG();t.Y8G("ngClass",t.eq3(6,Z,e.fa_codFact===o.codFacturaselecte)),t.R7$(2),t.SpI(" ",e.fa_codFact," "),t.R7$(1),t.BMQ("title",e.fa_nomClie),t.R7$(1),t.SpI(" ",e.fa_nomClie,""),t.R7$(2),t.JRh(e.fa_fecFact),t.R7$(2),t.JRh(e.fa_valFact)}}function Q(s,h){if(1&s&&(t.j41(0,"div",106)(1,"a",107),t.nrm(2,"i",108),t.EFF(3),t.k0s()()),2&s){const e=h.$implicit,o=h.index,i=t.XpG();t.AVh("active",o===i.selectedIndexcodmerc),t.R7$(3),t.SpI("\xa0\xa0",e.in_codmerc," ")}}function q(s,h){if(1&s&&(t.j41(0,"div",106)(1,"a",107),t.nrm(2,"i",108),t.EFF(3),t.k0s()()),2&s){const e=h.$implicit,o=h.index,i=t.XpG();t.AVh("active",o===i.selectedIndexdescripcionmerc),t.R7$(3),t.SpI("\xa0\xa0",e.in_desmerc," ")}}function tt(s,h){if(1&s){const e=t.RV6();t.j41(0,"tr",101),t.bIt("click",function(){const n=t.eBV(e).index,r=t.XpG();return t.Njj(r.selectRow(n))}),t.j41(1,"td",86),t.EFF(2),t.k0s(),t.j41(3,"td",102),t.EFF(4),t.k0s(),t.j41(5,"td",109),t.EFF(6),t.k0s(),t.j41(7,"td",110),t.EFF(8),t.k0s(),t.j41(9,"td",111),t.EFF(10),t.k0s(),t.j41(11,"td",112),t.EFF(12),t.nI1(13,"currency"),t.k0s(),t.j41(14,"td",113),t.EFF(15),t.k0s(),t.j41(16,"td")(17,"i",114),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editarItem(n))}),t.k0s()()()}if(2&s){const e=h.$implicit,o=h.index,i=t.XpG();t.AVh("table-active",o===i.selectedRow),t.R7$(2),t.JRh(null==e.producto?null:e.producto.in_codmerc),t.R7$(1),t.BMQ("title",null==e.producto?null:e.producto.in_desmerc),t.R7$(1),t.SpI(" ",null==e.producto?null:e.producto.in_desmerc,""),t.R7$(2),t.SpI(" ",e.cantidad," "),t.R7$(2),t.SpI(" ",e.df_canpend,""),t.R7$(2),t.SpI(" ",e.precio," "),t.R7$(2),t.SpI(" ",t.bMT(13,12,e.total)," "),t.R7$(2),t.xc7("color","P"===e.df_pendiente?"red":"green"),t.R7$(1),t.SpI(" ","P"===e.df_pendiente?"PEND.":"DESP.","")}}const w=function(s){return{show:s}},P=function(s){return{color:s}},et=[{path:"",component:(()=>{class s{get totalPages(){return Math.ceil(this.facturacionList.length/this.pageSize)}get paginatedData(){const e=(this.currentPage-1)*this.pageSize;return this.facturacionList.slice(e,e+this.pageSize)}constructor(e,o,i,n,r,c,f,a,m,F){this.fb=e,this.servicioFacturacion=o,this.servicioCliente=i,this.http=n,this.ServicioInventario=r,this.ServicioUsuario=c,this.ServicioRnc=f,this.ServicioSector=a,this.servicioFpago=m,this.servicioNcf=F,this.botonEditar=!0,this.botonGuardar=!0,this.botonaddItems=!0,this.facturas=[],this.total=0,this.totalItems=0,this.pageSize=6,this.currentPage=1,this.maxPagesToShow=5,this.txtdescripcion="",this.txtcodigo="",this.codFacturaselecte=" ",this.codMercselecte=" ",this.descripcion="",this.codigo="",this.fecha="",this.descripcionBuscar=new _.t(""),this.codigoBuscar=new _.t(""),this.fechaBuscar=new _.t(""),this.habilitarFormulario=!1,this.modoedicionFacturacion=!1,this.modoconsultaFacturacion=!1,this.facturacionList=[],this.detFacturaList=[],this.selectedFacturacion=null,this.items=[],this.ncflist=[],this.selectedItem=null,this.totalGral=0,this.totalItbis=0,this.totalcosto=0,this.costoGral=0,this.subTotal=0,this.subtotaltxt="",this.itbitxt="",this.totalgraltxt="",this.txtFactura="",this.txtFecha="",this.txtNombre="",this.codigoFactura=null,this.descuentotxt="",this.tiponcf="Consumidor Final",this.codmerc="",this.descripcionmerc="",this.cantidadmerc=0,this.cantidadpen=0,this.preciomerc=0,this.precioform=new l.MJ,this.cantidadform=new l.MJ,this.isEditing=!1,this.itemToEdit=null,this.codnotfound=!1,this.desnotfound=!1,this.mensagePantalla=!1,this.codmerVacio=!1,this.desmerVacio=!1,this.habilitarCampos=!1,this.habilitarCantidad=!1,this.sucursales=[],this.sucursalSeleccionada=null,this.habilitarIcono=!0,this.rncValue="",this.cancelarBusquedaDescripcion=!1,this.cancelarBusquedaCodigo=!1,this.numfacturaSubject=new _.t(""),this.nomclienteSubject=new _.t(""),this.selectedRow=0,this.cantpendiente=0,this.isDisabled=!0,this.buscarNombre=new l.MJ,this.resultadoNombre=[],this.resultadoSector=[],this.resultadoFpago=[],this.buscarSector=new l.MJ,this.buscarFpago=new l.MJ,this.selectedIndex=1,this.selectedIndexsector=1,this.buscarcodmerc=new l.MJ,this.buscardescripcionmerc=new l.MJ,this.nativeElement=new l.MJ,this.resultadoCodmerc=[],this.selectedIndexcodmerc=1,this.selectedIndexfpago=1,this.resultadodescripcionmerc=[],this.selectedIndexdescripcionmerc=1,this.form=this.fb.group({fa_codVend:["",l.k0.required]}),this.crearFormularioFacturacion()}ngOnInit(){this.cargarPendientes()}crearFormularioFacturacion(){const o=this.formatofecha(new Date);this.formularioFacturacion=this.fb.group({fa_codFact:[{value:"",disabled:!0}],fa_fecFact:[{value:o,disabled:!0}],fa_valFact:[""],fa_subFact:[""],fa_itbiFact:[""],fa_codClie:[""],fa_cosFact:[""],fa_nomClie:[{value:"",disabled:!0}],fa_rncFact:[{value:"",disabled:!0}],fa_telClie:[{value:"",disabled:!0}],fa_telClie2:[{value:"",disabled:!0}],fa_dirClie:[{value:"",disabled:!0}],fa_correo:[{value:"",disabled:!0}],fa_codVend:[{value:"",disabled:!0}],fa_nomVend:[{value:"",disabled:!0}],fa_status:[""],fa_sector:[{value:"",disabled:!0}],fa_codZona:[null],fa_desZona:[""],fa_fpago:[{value:"",disabled:!0}],fa_codfpago:["1"],fa_envio:[{value:"",disabled:!0}],fa_ncfFact:[{value:"",disabled:!0}],fa_tipoNcf:[{value:"",disabled:!0}],fa_contacto:[{value:"",disabled:!0}],fa_despacho:[{value:"",disabled:!0}],fa_reimpresa:[{value:"",disabled:!0}],fa_entrega:[{value:"",disabled:!0}],fa_impresa:[{value:"",disabled:!0}],fa_facturada:[{value:"",disabled:!0}],fa_pendiente:[{value:"SI",disabled:!0}]})}limpia(){this.crearFormularioFacturacion(),this.txtdescripcion="",this.txtFactura="",this.txtFecha="",this.botonEditar=!0,this.botonGuardar=!0,this.botonaddItems=!0,this.codmerc="",this.descripcionmerc="",this.preciomerc=0,this.cantidadmerc=0,this.isEditing=!1,this.items=[],this.totalGral=0,this.totalItbis=0,this.subTotal=0,this.totalcosto=0,this.costoGral=0,this.factxt=0,this.habilitarCampos=!1,this.habilitarCantidad=!1,this.cargarPendientes(),this.actualizarTotales(),$("#input1").focus(),$("#input1").select()}cargarPendientes(){this.servicioFacturacion.buscarFacturacionPendiente(1,100).subscribe(e=>{this.facturacionList=e.rows,this.total=e.total,console.log(e)})}buscarTodasFactura(e){}consultarFacturacion(e){this.modoconsultaFacturacion=!0,this.formularioFacturacion.reset(),this.crearFormularioFacturacion(),this.formularioFacturacion.patchValue(e),this.tituloModalFacturacion="Consulta Factura",this.habilitarFormulario=!0,this.formularioFacturacion.disable(),this.codFacturaselecte=e.fa_codFact,console.log("ff",e),this.habilitarIcono=!1,this.botonEditar=!1,this.botonGuardar=!0,this.botonaddItems=!0,document.querySelectorAll(".seccion-productos input").forEach(i=>{i.disabled=!0}),this.totalItbis=0,this.items=[],this.servicioFacturacion.buscarFacturaDetallePendiente(e.fa_codFact).subscribe(i=>{let n=0,c=0;i.data.forEach(m=>{const v=m.df_canMerc,I=m.df_preMerc,x=v*I,p=m.df_cosMerc;this.items.push({producto:{in_codmerc:m.df_codMerc,in_desmerc:m.df_desMerc,in_grumerc:"",in_tipoproduct:"",in_canmerc:0,in_caninve:0,in_fecinve:null,in_eximini:0,in_cosmerc:0,in_premerc:0,in_precmin:0,in_ucosto:0,in_porgana:0,in_peso:0,in_longitud:0,in_unidad:0,in_medida:0,in_longitu:0,in_fecmodif:null,in_amacen:0,in_imagen:"",in_status:"",in_itbis:!1,in_minvent:0},cantidad:v,precio:I,total:x,costo:p,fecfactActual:new Date,df_canpend:m.df_canpend??0,df_pendiente:m.df_pendiente??""}),n+=p,this.totalItbis+=.18*x}),c=n+this.totalItbis,this.subTotal=n,this.totalItbis=this.totalItbis,this.totalGral=c,this.factxt=100*(e.fa_valFact-e.fa_cosFact)/e.fa_cosFact,this.actualizarTotales(),console.log(e.fa_valFact),console.log(e.fa_cosFact),console.log(this.factxt)})}pendienteNuevo(){const e=prompt("Ingrese el numero de Factura:");e&&(this.codigoFactura=e,this.servicioFacturacion.actutalizarPendienteModficado(e,"poner").subscribe(o=>{}),this.servicioFacturacion.buscarFacturacion(0,0,e).subscribe(o=>{this.facturacionList=o.data}),this.consultarFacturacion({fa_codFact:e}))}buscaFactura(e){this.servicioFacturacion.buscarFacturacion(0,0,e.target.value).subscribe(i=>{this.facturacionList=i.data})}deshacerPendiente(e){console.log("Codigo recibido:",this.codigoFactura),this.codigoFactura?this.servicioFacturacion.actutalizarPendienteModficado(this.codigoFactura,"quitar").subscribe(o=>{alert("Cambio descartado")}):alert("No se recibi\xf3 un c\xf3digo v\xe1lido")}editarFactura(){console.log("Modo edici\xf3n activado"),this.botonEditar=!0,this.botonGuardar=!1,this.botonaddItems=!1,this.habilitarIcono=!0,this.formularioFacturacion.enable(),this.formularioFacturacion.get("fa_codFact")?.disable(),this.formularioFacturacion.get("fa_fecFact")?.disable(),this.formularioFacturacion.get("fa_ncfFact")?.disable(),this.formularioFacturacion.get("fa_codVend")?.disable(),this.formularioFacturacion.get("fa_nomVend")?.disable(),this.formularioFacturacion.get("fa_entrega")?.disable(),this.formularioFacturacion.get("fa_impresa")?.disable(),this.formularioFacturacion.get("fa_facturada")?.disable()}formatofecha(e){const o=e.getFullYear(),i=(e.getMonth()+1).toString().padStart(2,"0");return`${e.getDate().toString().padStart(2,"0")}/${i}/${o}`}crearformulariodetFactura(){this.formulariodetFactura=this.fb.group({df_codFact:[""],df_fecFact:[""],df_codMerc:[""],df_desMerc:[""],df_canMerc:[""],df_preMerc:[""],df_valMerc:[""],df_unidad:[""],df_cosMerc:[""],df_codClie:[""],df_status:[""]})}buscarTodasFacturacion(){}convertToUpperCase(e){const o=e.target,i=o.selectionStart,n=o.selectionEnd;o.value=o.value.toUpperCase(),null!==i&&null!==n&&o.setSelectionRange(i,n)}moveFocus(e,o){"Enter"===e.key&&o&&(e.preventDefault(),o.focus())}moveFocuscodmerc(e,o){if(console.log("move focus"),"Enter"===e.key||"Tab"===e.key){if(e.preventDefault(),""===e.target.value.trim()?(this.codmerVacio=!0,console.log("vacio")):this.codmerVacio=!1,this.codnotfound)return console.log(this.codnotfound),this.mensagePantalla=!0,g().fire({icon:"error",title:"A V I S O",text:"Codigo invalido.",focusConfirm:!0,allowEnterKey:!0}).then(()=>{this.mensagePantalla=!1}),this.codmerVacio=!1,this.codnotfound=!1,this.codmerc="",void(this.descripcionmerc="");!0===this.codmerVacio?(o.focus(),this.codmerVacio=!1,console.log("vedadero")):($("#input8").focus(),$("#input8").select()),this.codmerVacio=!1}}handleKeydownInventario(e){console.log("handle");const o=e.key,i=this.resultadoCodmerc.length-1;1===this.resultadoCodmerc.length&&(this.selectedIndexcodmerc=0,console.log("prueba")),"ArrowDown"===o?(this.selectedIndexcodmerc=this.selectedIndexcodmerc<i?this.selectedIndexcodmerc+1:0,e.preventDefault()):"ArrowUp"===o?(this.selectedIndexcodmerc=this.selectedIndexcodmerc>0?this.selectedIndexcodmerc-1:i,e.preventDefault()):"Enter"===o&&e.preventDefault()}mostrarMensajeError(e){this.mensagePantalla=!0,g().fire({icon:"error",title:"A V I S O",text:e}).then(()=>{this.mensagePantalla=!1})}handleKeydown(e){const o=e.key,i=this.resultadoNombre.length-1;1===this.resultadoNombre.length&&(this.selectedIndex=0,console.log("prueba")),"ArrowDown"===o?(this.selectedIndex<i?this.selectedIndex++:this.selectedIndex=0,e.preventDefault()):"ArrowUp"===o?(console.log("paso 677"),this.selectedIndex>0?this.selectedIndex--:this.selectedIndex=i,e.preventDefault()):"Enter"===o&&(this.selectedIndex>=0&&this.selectedIndex<=i&&this.cargarDatosCliente(this.resultadoNombre[this.selectedIndex]),e.preventDefault())}handleKeydownSector(e){const o=e.key,i=this.resultadoSector.length-1;1===this.resultadoSector.length&&(this.selectedIndexsector=0,console.log("prueba")),"ArrowDown"===o?(this.selectedIndexsector<i?this.selectedIndex++:this.selectedIndexsector=0,e.preventDefault()):"ArrowUp"===o?(console.log("paso 677"),this.selectedIndexsector>0?this.selectedIndex--:this.selectedIndexsector=i,e.preventDefault()):"Enter"===o&&(this.selectedIndexsector>=0&&this.selectedIndexsector<=i&&this.cargarDatosSector(this.resultadoSector[this.selectedIndexsector]),e.preventDefault())}handleKeydownFpago(e){const o=e.key,i=this.resultadoFpago.length-1;1===this.resultadoFpago.length&&(this.selectedIndexfpago=0,console.log("prueba")),"ArrowDown"===o?(this.selectedIndexfpago<i?this.selectedIndexfpago++:this.selectedIndexfpago=0,e.preventDefault()):"ArrowUp"===o?(this.selectedIndexfpago>0?this.selectedIndexfpago--:this.selectedIndexfpago=i,e.preventDefault()):"Enter"===o&&(this.selectedIndex>=0&&this.selectedIndexfpago<=i&&this.cargarDatosFpago(this.resultadoFpago[this.selectedIndexfpago]),e.preventDefault())}handleKeydownInventariosdesc(e){const o=e.key,i=this.resultadodescripcionmerc.length;1===this.resultadodescripcionmerc.length&&(this.selectedIndexdescripcionmerc=0,console.log("prueba")),"ArrowDown"===o?(this.selectedIndexdescripcionmerc=this.selectedIndexdescripcionmerc<i?this.selectedIndexdescripcionmerc+1:0,e.preventDefault()):"ArrowUp"===o?(this.selectedIndexdescripcionmerc=this.selectedIndexdescripcionmerc>0?this.selectedIndexdescripcionmerc-1:i,e.preventDefault()):"Enter"===o&&e.preventDefault()}moveFocusdesc(e,o){if("Enter"===e.key||"Tab"===e.key){if(e.preventDefault(),""===e.target.value.trim()&&(this.desmerVacio=!0),this.desnotfound)return this.mensagePantalla=!0,g().fire({icon:"error",title:"A V I S O",text:"Codigo invalido."}).then(()=>{this.mensagePantalla=!1}),void(this.desnotfound=!0);if(!0===this.desmerVacio)return this.mensagePantalla=!0,g().fire({icon:"error",title:"A V I S O",text:"Codigo invalido."}).then(()=>{this.mensagePantalla=!1}),void(this.desnotfound=!0);$("#input8").focus(),$("#input8").select(),this.desmerVacio=!1}}moveFocusCantidad(e,o){if("Enter"===e.key||"Tab"===e.key){if(e.preventDefault(),!this.productoselect||this.cantidadmerc<=0)return this.mensagePantalla=!0,void g().fire({icon:"error",title:"A V I S O",text:"Por favor complete todos los campos requeridos antes de agregar el \xedtem."}).then(()=>{this.mensagePantalla=!1});$("#input9").focus(),$("#input9").select()}}moveFocusPrecio(e,o){if("Enter"===e.key||"Tab"===e.key){if(e.preventDefault(),!this.productoselect||this.preciomerc<=0||this.preciomerc<=this.productoselect.in_cosmerc)return this.mensagePantalla=!0,void g().fire({icon:"error",title:"A V I S O",text:"Por favor complete todos los campos requeridos antes de agregar el \xedtem."}).then(()=>{this.mensagePantalla=!1});$("#input13").focus(),$("#input13").select()}}moveFocusnomclie(e,o){e.preventDefault(),console.log(o),e.target instanceof HTMLInputElement&&(e.target.value?o.focus():(this.mensagePantalla=!0,g().fire({icon:"error",title:"A V I S O",text:"Por favor complete el campo Nombre del Cliente Para Poder continual."}).then(()=>{this.mensagePantalla=!1})))}cargarDatosCliente(e){this.resultadoNombre=[],this.buscarNombre.reset(),""!==e.cl_nomClie&&(console.log(this.resultadoNombre),this.formularioFacturacion.patchValue({fa_codClie:e.cl_codClie,fa_nomClie:e.cl_nomClie,fa_rncFact:e.cl_rnc,fa_telClie:e.cl_telClie,fa_dirClie:e.cl_dirClie,fa_codZona:e.cl_codZona,fa_sector:e.cl_codSect}),console.log(e),console.log("Formulario actualizado:",this.formularioFacturacion.value))}cargarDatosSector(e){this.resultadoNombre=[],this.buscarSector.reset(),""!==e.se_desSect&&(console.log(this.resultadoSector),this.formularioFacturacion.patchValue({fa_codSect:e.se_codSect,fa_sector:e.se_desSect,fa_codZona:e.se_codZona}),console.log(e))}cargarDatosFpago(e){this.resultadoFpago=[],this.buscarFpago.reset(),""!==e.fp_descfpago&&(console.log(this.resultadoFpago),this.formularioFacturacion.patchValue({fa_fpago:e.fp_descfpago,fa_codfpago:e.fp_codfpago}))}moveFocusFpago(e,o){e.preventDefault(),e.target instanceof HTMLSelectElement&&(e.target.value?o.focus():(this.mensagePantalla=!0,g().fire({icon:"error",title:"A V I S O",text:"Por favor complete el campo Tipo de Pago."}).then(()=>{this.mensagePantalla=!1})))}agregaItem(e){if(e.preventDefault(),!this.productoselect||this.cantidadpen>this.itemToEdit.cantidad||this.preciomerc<=0||this.preciomerc<=this.productoselect.in_cosmerc)return this.mensagePantalla=!0,void g().fire({icon:"error",title:"A V I S O",text:"Valor instrduciddo Invalido Por favor digite cantida nueva vez "}).then(()=>{this.mensagePantalla=!1});const o=new Date;this.isEditing&&(this.itemToEdit.producto=this.productoselect,this.itemToEdit.codmerc=this.codmerc,this.itemToEdit.descripcionmerc=this.descripcionmerc,this.itemToEdit.precio=this.preciomerc,this.itemToEdit.df_canpend=this.cantidadpen,this.itemToEdit.total=this.cantidadmerc*this.preciomerc,this.itemToEdit.totalcosto+=this.costotxt*this.cantidadmerc,this.itemToEdit.fecfactActual=o,this.isEditing=!1,this.itemToEdit=null,this.botonGuardar=!1),this.limpiarCampos()}actualizarCalculo(){this.protxt=100*(this.preciomerc-this.costotxt)/this.costotxt}limpiarCampos(){this.codmerc="",this.descripcionmerc="",this.preciomerc=0,this.cantidadpen=0,this.isEditing=!1,this.existenciatxt=0,this.costotxt=0,this.medidatxt=0,this.fecacttxt=" ",this.atxt=0,this.btxt=0,this.ctxt=0,this.dtxt=0,this.etxt=0,this.ftxt=0,this.gtxt=0,this.protxt=0,this.habilitarCantidad=!1}limpiarTabla(){this.items=[],this.totalGral=0,this.totalItbis=0,this.subTotal=0}borarItem(e){const o=this.items.indexOf(e);o>-1&&(this.items.splice(o,1),this.items=[...this.items],this.recalcularTotales())}recalcularTotales(){this.totalGral=0,this.totalItbis=0,this.subTotal=0;for(const e of this.items){const o=.18*e.total/1.18,i=e.total-o;this.totalItbis+=o,this.subTotal+=i,this.totalGral+=e.total}}editarItem(e){this.habilitarCampos=!1,this.habilitarCantidad=!0,this.index_item=this.items.indexOf(e),this.isEditing=!0,this.itemToEdit=e,this.productoselect=e.producto,this.codmerc=e.producto.in_codmerc,this.descripcionmerc=e.producto.in_desmerc,this.preciomerc=e.precio,this.cantidadpen=e.df_canpend??0,this.existenciatxt=e.producto.in_canmerc,this.costotxt=e.producto.in_cosmerc,setTimeout(()=>{this.cantidadInput?.nativeElement.focus(),this.cantidadInput?.nativeElement.select()})}agregarItem(){this.habilitarCampos=!0,this.habilitarCantidad=!0,setTimeout(()=>{this.codigoInput?.nativeElement.focus(),this.codigoInput?.nativeElement.select()})}actualizarTotales(){this.totalGral=this.items.reduce((o,i)=>o+i.total,0),this.totalItbis=this.items.reduce((o,i)=>o+.18*i.total,0),this.subTotal=this.items.reduce((o,i)=>o+(i.total-.18*i.total),0),this.totalcosto=this.items.reduce((o,i)=>o+this.costotxt*i.cantidad,0);const e=o=>o.toLocaleString("es-DO",{style:"currency",currency:"DOP"});this.subtotaltxt=e(this.subTotal),this.itbitxt=e(this.totalItbis),this.totalgraltxt=e(this.totalGral)}guardarFacturacion(){this.formularioFacturacion.get("fa_codFact"),this.formularioFacturacion.patchValue({fa_valFact:this.totalGral,fa_itbiFact:this.totalItbis,fa_cosFact:this.totalcosto,fa_subFact:this.subTotal}),this.servicioFacturacion.acturalizaDetPendiente({factura:this.formularioFacturacion.value,detalle:this.items}).subscribe(i=>{g().fire({title:"Excelente!",text:"Factura creada correctamente.",icon:"success",timer:1e3,showConfirmButton:!1}),this.refrescarFormulario()})}refrescarFormulario(){this.cargarPendientes(),this.formularioFacturacion.reset(),this.crearFormularioFacturacion(),this.formularioFacturacion.enable(),this.limpia()}navigateTable(e){const o=e.key;"ArrowDown"===o?this.selectedRow<this.items.length-1&&(this.selectedRow++,this.selectRow(this.selectedRow)):"ArrowUp"===o&&this.selectedRow>0&&(this.selectedRow--,this.selectRow(this.selectedRow))}selectRow(e){this.selectedRow=e,this.selectedItem=this.items[e],console.log(this.selectedItem),this.calcularPorcentaje()}calcularPorcentaje(){this.protxt=100*(this.selectedItem.total-this.selectedItem.costo)/this.selectedItem.costo}ngAfterViewInit(){this.Tabladetalle.nativeElement.focus()}formatNumber(e){let o=Number(e);return isNaN(o)?" ":o.toLocaleString("en-US",{minimumFractionDigits:2})}generatePDF(e){console.log(e),this.servicioFacturacion.buscarFacturaDetallePendiente(e.fa_codFact).subscribe(o=>{let i=0,r=0;o.data.forEach(u=>{const j=u.dc_canmerc,y=u.dc_premerc,k=j*y;this.items.push({producto:{in_codmerc:u.dc_codmerc,in_desmerc:u.dc_descrip,in_grumerc:"",in_tipoproduct:"",in_canmerc:0,in_caninve:0,in_fecinve:null,in_eximini:0,in_cosmerc:0,in_premerc:0,in_precmin:0,in_ucosto:0,in_porgana:0,in_peso:0,in_longitud:0,in_unidad:0,in_medida:0,in_longitu:0,in_fecmodif:null,in_amacen:0,in_imagen:"",in_status:"",in_itbis:!1,in_minvent:0},cantidad:j,precio:y,total:k,fecfactActual:new Date,costo:0}),i+=k,this.totalItbis+=.18*k}),r=i+this.totalItbis,this.subTotal=i,this.totalItbis=this.totalItbis,this.totalGral=r;const f=u=>u.toLocaleString("es-DO",{style:"currency",currency:"DOP"}),a=new S.default,x=(a.internal.pageSize.getWidth()-20)/2;a.addImage("assets/logo2.png","PNG",x,10,20,20),a.setFontSize(16),a.text("CENTRAL HIERRO, SRL",105,40,{align:"center"}),a.setFontSize(10),a.text("#172 Esq. Albert Thomas",105,47,{align:"center"}),a.text("809-384-2000, 809-384-200",105,52,{align:"center"}),a.text("1-30-29922-6",105,57,{align:"center"}),a.setFontSize(14),a.text("FACTURA",105,70,{align:"center"}),a.setFontSize(10),a.text(`No. ${e.fa_codFact}`,14,80),a.text(`Fecha: ${e.fa_fecFact}`,14,85),a.text(`Vendedido por: ${e.fa_nomVend}`,14,90),a.setFontSize(12),a.text("CLIENTE",14,100),a.setFontSize(10),a.text(e.fa_nomClie,14,106),D()(a,{head:[["Codigo","Descripci\xf3n","Cantidad","Precio","Itbis","Total"]],body:o.data.map(u=>[u.df_codMerc,u.df_desMerc,parseInt(u.df_canMerc),f(parseFloat(u.df_preMerc)),f(u.df_preMerc*u.df_canMerc*18/100),f(u.df_preMerc*u.df_canMerc)]),startY:115});const p=a.lastAutoTable.finalY;a.setFontSize(12),a.text("Subtotal:",118,p+10),a.setFontSize(10),a.text(`${f(i)} `,160,p+10),a.setFontSize(12),a.text("ITBIS:",118,p+16),a.setFontSize(10),a.text(`${f(this.totalItbis)} `,160,p+16),a.setFontSize(12),a.text("TOTAL A PAGAR: ",118,p+22),a.setFontSize(14),a.text(`${f(r)} `,160,p+22),a.setFontSize(12),a.setFontSize(14),a.text("WWW.GRUPOHIERRO.COM",105,p+47,{align:"center"}),a.setFontSize(12),a.text("*** Gracias por Preferirnos ***",105,p+55,{align:"center"});const at=a.output("blob"),st=URL.createObjectURL(at);window.open(st,"_blank")})}goToFirstPage(){this.currentPage=1}goToLastPage(){this.currentPage=this.totalPages}nextPage(){this.currentPage<this.totalPages&&this.currentPage++}prevPage(){this.currentPage>1&&this.currentPage--}onTableKeydown(e){const o=this.paginatedData.length-1;switch(e.key){case"ArrowDown":this.selectedRow<o&&(this.selectedRow++,this.scrollToRow(this.selectedRow),this.consultarFacturacion(this.paginatedData[this.selectedRow])),e.preventDefault();break;case"ArrowUp":this.selectedRow>0&&(this.selectedRow--,this.scrollToRow(this.selectedRow),this.consultarFacturacion(this.paginatedData[this.selectedRow])),e.preventDefault();break;case"Enter":this.consultarFacturacion(this.paginatedData[this.selectedRow]),e.preventDefault()}}scrollToRow(e){const i=document.querySelector(".table-responsive tbody")?.querySelectorAll("tr");i&&i[e]&&i[e].scrollIntoView({block:"nearest",behavior:"smooth"})}static{this.\u0275fac=function(o){return new(o||s)(t.rXU(l.ok),t.rXU(M._),t.rXU(G.d),t.rXU(N.a),t.rXU(V.M),t.rXU(A.f),t.rXU(O.E),t.rXU(z.V),t.rXU(U.U),t.rXU(Y.Y))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["pendiente"]],viewQuery:function(o,i){if(1&o&&(t.GBs(B,5),t.GBs(L,5),t.GBs(X,5),t.GBs(J,5),t.GBs(K,5)),2&o){let n;t.mGM(n=t.lsd())&&(i.codigoInput=n.first),t.mGM(n=t.lsd())&&(i.descripcionInput=n.first),t.mGM(n=t.lsd())&&(i.Tabladetalle=n.first),t.mGM(n=t.lsd())&&(i.cantidadInput=n.first),t.mGM(n=t.lsd())&&(i.buscarcodmercElement=n.first)}},decls:243,vars:46,consts:[[1,"row","g-4"],[1,"col-lg-6","col-md-6","mb-4"],[1,"card","shadow-sm","rounded-2","border-0"],[1,"card-header","py-3",2,"background","#253b33","border-radius","0.5rem 0.5rem 0 0"],[1,"card-title","m-0","text-white","text-center",2,"font-weight","600","letter-spacing","1px"],[1,"card-body",2,"background-color","#e6e4e4"],[1,"custom-form-background",3,"formGroup"],[1,"row","mt-0"],[1,"col-5"],[1,"col-1"],["for","",1,"label"],[1,"col-3"],["type","text","formControlName","fa_codFact",1,"form-control","form-control-sm","textbox"],["formControlName","fa_fecFact","type","text",1,"form-control","form-control-sm"],[1,"row","mt-1"],[1,"col-2"],["type","text","formControlName","fa_rncFact",1,"form-control","form-control-sm"],[1,"col-4"],["type","text","formControlName","fa_tipoNcf",1,"form-control","form-control-sm"],["type","text","formControlName","fa_ncfFact","placeholder","NCF",1,"form-control","form-control-sm"],[1,"row","mt-.5"],[1,"col-10"],["type","text","formControlName","fa_nomClie",1,"form-control","form-control-sm","dropdown-toggle","searchInput"],["type","text","formControlName","fa_dirClie",1,"form-control","form-control-sm"],["type","text","formControlName","fa_telClie",1,"form-control","form-control-sm"],["type","text","formControlName","fa_telClie2",1,"form-control","form-control-sm"],["type","text","formControlName","fa_sector",1,"form-control","form-control-sm"],[1,"col-6"],["type","text","formControlName","fa_correo",1,"form-control","form-control-sm"],["type","text","formControlName","fa_contacto",1,"form-control","form-control-sm"],["formControlName","fa_fpago",1,"form-control","listbox"],[3,"value",4,"ngFor","ngForOf"],["name","listaenvio","formControlName","fa_envio",1,"form-control","listbox"],["inputenvio",""],["value","Envio"],["value","Retiro"],["type","password","formControlName","fa_codVend","placeholder","Vendedor",1,"form-control","form-control-sm"],["inputvendedor",""],["type","text","formControlName","fa_nomVend",1,"form-control","form-control-sm"],["for","fa_despacho",1,"form-check-label"],[1,"form-check"],["type","checkbox","id","fa_facturada","formControlName","fa_facturada",1,"form-check-input","form-check-input-sm"],["type","checkbox","id","fa_despacho","formControlName","fa_despacho",1,"form-check-input","form-check-input-sm"],["type","checkbox","id","fa_entrega","formControlName","fa_entrega","placeholder","Entregado",1,"form-check-input","form-check-input-sm"],["input8",""],[1,"table-container",2,"position","relative","height","300px"],["tabindex","0",1,"table-responsive",2,"height","250px","overflow-y","auto","border","2px solid #040ab9","border-radius","4px",3,"keydown"],["id","tablaFactura",1,"table","table-bordered","table-hover","table-striped","table-sm"],[1,"table-dark","sticky-header"],[2,"width","10%"],[2,"width","30%"],[1,"text-center",2,"width","25%"],[2,"width","16%"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"pagination-controls",2,"position","absolute","bottom","0","left","0","right","0","background","linear-gradient(90deg, #fafafa, #f1f1f1)","padding","8px 12px","display","flex","justify-content","space-between","align-items","center","border-top","1px solid #ccc"],[1,"btn","btn-sm","btn-primary",3,"disabled","click"],[2,"font-weight","bold","font-size","14px"],[1,"col"],[1,"card"],[1,"card-body",2,"height","60px","background-color","#f7eeeebd"],[1,"btn","btn-success","w-100",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"btn","btn-success","w-100",3,"disabled","click"],[1,"bi","bi-check"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-success","btn-block","w-100",3,"click"],[1,"card-body"],[1,"row","align-items-end"],["for",""],[1,"input-group","show"],["data-id","agent","type","text","autocomplete","off","name","codmerc","placeholder","C\xf3digo",1,"form-control","dropdown-toggle","searchInput","me-2",3,"disabled","ngModel","input","keydown","ngModelChange"],["codigoInput",""],[1,"dropdown-menu",2,"margin-right","30px","margin-top","45px","z-index","300","width","350px","position","absolute","will-change","transform",3,"ngClass"],["class","searchReturnItem name-find",3,"active",4,"ngFor","ngForOf"],["data-id","agent","type","text","autocomplete","off",1,"form-control","dropdown-toggle","searchInput","me-2",3,"disabled","ngModel","input","ngModelChange"],["descripcionInput",""],["type","number","placeholder","Cantidad",1,"form-control",3,"disabled","ngModel","ngModelChange","keydown.enter"],["cantidadInput",""],["type","number",1,"form-control"],[1,"row"],["tabindex","0",1,"table-responsive",2,"height","350px","overflow-y","auto","border","2px solid rgb(4, 10, 185)"],["Tabledetalle",""],[1,"table","table-sm","table-bordered"],[1,"table-dark"],[2,"background-color","rgb(55, 0, 255)"],[2,"width","17%","white-space","nowrap"],[2,"width","13%"],[3,"table-active","click",4,"ngFor","ngForOf"],[1,"col-7"],[1,"col-3","col-form-label","text-black","text-end",2,"font-size","12px","font-weight","bold"],["type","text","readonly","","id","inputPassword",1,"form-control","form-control-sm","text-end",2,"font-size","12px","font-weight","bold",3,"value","ngStyle"],[1,"col-2","col-form-label","text-black","text-end",2,"font-size","12px","font-weight","bold"],[1,"col-1","col-form-label","text-black","text-end",2,"font-size","12px","font-weight","bold"],[2,"padding","5px","border","2px solid rgb(4, 10, 185)"],[1,"col-4","col-form-label","text-black",2,"font-size","18px","font-weight","bold"],[1,"col-8"],["type","text","disabled","","id","inputPassword",1,"form-control","form-control-sm","text-end",2,"font-size","18px","font-weight","bold",3,"value"],["type","text","disabled","","id","inputPassword",1,"form-control","form-control-sm","text-end",2,"font-size","18px","font-weight","bold",3,"ngModel","ngModelChange"],[1,"col-4","text-black"],[3,"value"],[3,"ngClass"],[3,"click"],["data-bs-toggle","tooltip","data-bs-placement","top",1,"text-cell"],[1,"text-center"],[1,"text-end"],[1,"bi","bi-card-list","text-success",2,"padding","10px",3,"click"],[1,"searchReturnItem","name-find"],[1,"px-3","cp",2,"color","#222222 !important","font-size","10pt","padding","20px 0px","text-decoration","none !important","cursor","pointer"],[1,"far","fa-user-circle","mr-5"],[1,"text-center",2,"width","10%"],[1,"text-center",2,"width","17%"],[1,"text-center",2,"width","11%"],[1,"text-end",2,"width","13%"],[1,"text-center",2,"width","7%"],[1,"bi","bi-pencil","text-primary",2,"padding","10px",3,"click"]],template:function(o,i){if(1&o){const n=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.EFF(5,"PENDIENTE DE ENTREGA"),t.k0s()(),t.j41(6,"div",5)(7,"form",6)(8,"div",7),t.nrm(9,"div",8),t.j41(10,"div",9)(11,"label",10),t.EFF(12,"No."),t.k0s()(),t.j41(13,"div",11),t.nrm(14,"input",12),t.k0s(),t.j41(15,"div",11),t.nrm(16,"input",13),t.k0s()(),t.j41(17,"div",14)(18,"div",15)(19,"label",10),t.EFF(20,"RNC"),t.k0s()(),t.j41(21,"div",11),t.nrm(22,"input",16),t.k0s(),t.j41(23,"div",17),t.nrm(24,"input",18),t.k0s(),t.j41(25,"div",11),t.nrm(26,"input",19),t.k0s()(),t.j41(27,"div",20)(28,"div",15)(29,"label",10),t.EFF(30,"Cliente"),t.k0s()(),t.j41(31,"div",21),t.nrm(32,"input",22),t.k0s()(),t.j41(33,"div",20)(34,"div",15)(35,"label",10),t.EFF(36,"Direcci\xf3n"),t.k0s()(),t.j41(37,"div",21),t.nrm(38,"input",23),t.k0s()(),t.j41(39,"div",20)(40,"div",15)(41,"label",10),t.EFF(42,"Telefono"),t.k0s()(),t.j41(43,"div",11),t.nrm(44,"input",24),t.k0s(),t.j41(45,"div",11),t.nrm(46,"input",25),t.k0s(),t.j41(47,"div",17),t.nrm(48,"input",26),t.k0s()(),t.j41(49,"div",20)(50,"div",15)(51,"label",10),t.EFF(52,"Correo"),t.k0s()(),t.j41(53,"div",27),t.nrm(54,"input",28),t.k0s(),t.j41(55,"div",17),t.nrm(56,"input",29),t.k0s()(),t.j41(57,"div",14)(58,"div",15)(59,"label",10),t.EFF(60,"Tipo pago"),t.k0s()(),t.j41(61,"div",11)(62,"select",30),t.DNE(63,W,2,2,"option",31),t.k0s()(),t.j41(64,"div",11)(65,"select",32,33)(67,"option",34),t.EFF(68,"Envio"),t.k0s(),t.j41(69,"option",35),t.EFF(70,"Retirar por el Cliente"),t.k0s()()(),t.j41(71,"div",15),t.nrm(72,"input",36,37),t.k0s(),t.j41(74,"div",15),t.nrm(75,"input",38),t.k0s()(),t.j41(76,"div",20)(77,"div",15)(78,"label",39),t.EFF(79,"Facturada"),t.k0s()(),t.j41(80,"div",15)(81,"div",40),t.nrm(82,"input",41),t.k0s()(),t.j41(83,"div",15)(84,"label",39),t.EFF(85,"Despachado"),t.k0s()(),t.j41(86,"div",15)(87,"div",40),t.nrm(88,"input",42),t.k0s()(),t.j41(89,"div",15)(90,"label",10),t.EFF(91,"Entregada"),t.k0s()(),t.j41(92,"div",15),t.nrm(93,"input",43,44),t.k0s()()(),t.nrm(95,"br"),t.j41(96,"div",14)(97,"div",45)(98,"div",46),t.bIt("keydown",function(c){return i.onTableKeydown(c)}),t.j41(99,"table",47)(100,"thead",48)(101,"tr")(102,"th",49),t.EFF(103,"Numero"),t.k0s(),t.j41(104,"th",50),t.EFF(105,"Nombre"),t.k0s(),t.j41(106,"th",51),t.EFF(107,"Fecha"),t.k0s(),t.j41(108,"th",52),t.EFF(109,"Valor"),t.k0s(),t.j41(110,"th",49),t.EFF(111,"Cobro"),t.k0s()()(),t.j41(112,"tbody"),t.DNE(113,H,11,8,"tr",53),t.k0s()()(),t.j41(114,"div",54)(115,"div")(116,"button",55),t.bIt("click",function(){return i.goToFirstPage()}),t.EFF(117," \u23ee\ufe0f Inicio "),t.k0s(),t.j41(118,"button",55),t.bIt("click",function(){return i.prevPage()}),t.EFF(119," \u23ea Anterior "),t.k0s()(),t.j41(120,"span",56),t.EFF(121),t.k0s(),t.j41(122,"div")(123,"button",55),t.bIt("click",function(){return i.nextPage()}),t.EFF(124," Siguiente \u23e9 "),t.k0s(),t.j41(125,"button",55),t.bIt("click",function(){return i.goToLastPage()}),t.EFF(126," Fin \u23ed\ufe0f "),t.k0s()()()()()(),t.j41(127,"div",7)(128,"div",57)(129,"div",58)(130,"div",59)(131,"div",7)(132,"div",11)(133,"button",60),t.bIt("click",function(){return i.pendienteNuevo()}),t.nrm(134,"i",61),t.EFF(135," Crear Pendiente "),t.k0s()(),t.j41(136,"div",11)(137,"button",62),t.bIt("click",function(){return i.guardarFacturacion()}),t.nrm(138,"i",63),t.EFF(139," Guardar "),t.k0s()(),t.j41(140,"div",11)(141,"button",64),t.bIt("click",function(){return i.deshacerPendiente(i.codigo)}),t.EFF(142," Deshacer Pendiente "),t.k0s()(),t.j41(143,"div",11)(144,"button",65),t.bIt("click",function(){return i.limpia()}),t.nrm(145,"i",61),t.EFF(146," Deshacer "),t.k0s()()()()()()()()(),t.j41(147,"div",1)(148,"div",2)(149,"div",3)(150,"h4",4),t.EFF(151," DETALLE DEL PENDIENTE "),t.k0s()(),t.j41(152,"div",66)(153,"div",67)(154,"div",15)(155,"label",68),t.EFF(156," C\xf3digo "),t.k0s(),t.j41(157,"div",69)(158,"input",70,71),t.bIt("input",function(c){return i.convertToUpperCase(c)})("keydown",function(c){return i.handleKeydownInventario(c)})("keydown",function(c){t.eBV(n);const f=t.sdS(167);return t.Njj(i.moveFocuscodmerc(c,f))})("ngModelChange",function(c){return i.codmerc=c}),t.k0s(),t.j41(160,"div",72),t.DNE(161,Q,4,3,"div",73),t.k0s()()(),t.j41(162,"div",17)(163,"label",68),t.EFF(164," Descripci\xf3n "),t.k0s(),t.j41(165,"div",69)(166,"input",74,75),t.bIt("input",function(c){return i.convertToUpperCase(c)})("ngModelChange",function(c){return i.descripcionmerc=c}),t.k0s(),t.j41(168,"div",72),t.DNE(169,q,4,3,"div",73),t.k0s()()(),t.j41(170,"div",15)(171,"label",68),t.EFF(172," Pendiete "),t.k0s(),t.j41(173,"input",76,77),t.bIt("ngModelChange",function(c){return i.cantidadpen=c})("keydown.enter",function(c){return i.agregaItem(c)}),t.k0s()(),t.j41(175,"div",15)(176,"label",68),t.EFF(177," Precio "),t.k0s(),t.nrm(178,"input",78),t.k0s()(),t.j41(179,"div",79)(180,"div",57)(181,"div",80,81)(183,"table",82)(184,"thead",83)(185,"tr",84)(186,"th",49),t.EFF(187,"C\xf3digo"),t.k0s(),t.j41(188,"th",50),t.EFF(189,"Descripci\xf3n"),t.k0s(),t.j41(190,"th",49),t.EFF(191,"Cant."),t.k0s(),t.j41(192,"th",85),t.EFF(193,"Pend. Desp"),t.k0s(),t.j41(194,"th",86),t.EFF(195,"Precio"),t.k0s(),t.j41(196,"th",49),t.EFF(197,"Total"),t.k0s(),t.j41(198,"td",49),t.EFF(199,"Status"),t.k0s(),t.j41(200,"th"),t.EFF(201,"Opcion"),t.k0s()()(),t.j41(202,"tbody"),t.DNE(203,tt,18,14,"tr",87),t.k0s()()()()(),t.j41(204,"div",79)(205,"div",88)(206,"div",14)(207,"h6",89),t.EFF(208," % Producto "),t.k0s(),t.j41(209,"div",15),t.nrm(210,"input",90),t.k0s(),t.j41(211,"h6",91),t.EFF(212," Factura "),t.k0s(),t.j41(213,"div",15),t.nrm(214,"input",90),t.k0s(),t.j41(215,"h6",92),t.EFF(216," % "),t.k0s()()(),t.j41(217,"div",8)(218,"div",14)(219,"div",93)(220,"div",79)(221,"h6",94),t.EFF(222," Sub Total "),t.k0s(),t.j41(223,"div",95),t.nrm(224,"input",96),t.nI1(225,"number"),t.k0s()(),t.j41(226,"div",20)(227,"h6",94),t.EFF(228," Desc. "),t.k0s(),t.j41(229,"div",95)(230,"input",97),t.bIt("ngModelChange",function(c){return i.descuentotxt=c}),t.k0s()()(),t.j41(231,"div",20)(232,"h6",94),t.EFF(233," ITBI "),t.k0s(),t.j41(234,"div",95),t.nrm(235,"input",96),t.nI1(236,"number"),t.k0s()(),t.j41(237,"div",20)(238,"h4",98),t.EFF(239,"Total"),t.k0s(),t.j41(240,"div",95),t.nrm(241,"input",96),t.nI1(242,"number"),t.k0s()()()()()()()()()()}2&o&&(t.R7$(7),t.Y8G("formGroup",i.formularioFacturacion),t.R7$(56),t.Y8G("ngForOf",i.resultadoFpago),t.R7$(50),t.Y8G("ngForOf",i.paginatedData),t.R7$(3),t.Y8G("disabled",1===i.currentPage),t.R7$(2),t.Y8G("disabled",i.currentPage<=1),t.R7$(3),t.Lme(" P\xe1gina ",i.currentPage," de ",i.totalPages," "),t.R7$(2),t.Y8G("disabled",i.currentPage>=i.totalPages),t.R7$(2),t.Y8G("disabled",i.currentPage>=i.totalPages),t.R7$(12),t.Y8G("disabled",i.botonGuardar),t.R7$(21),t.Y8G("disabled",!i.habilitarCampos)("ngModel",i.codmerc),t.R7$(2),t.Y8G("ngClass",t.eq3(38,w,i.resultadoCodmerc.length>0)),t.R7$(1),t.Y8G("ngForOf",i.resultadoCodmerc),t.R7$(5),t.Y8G("disabled",!i.habilitarCampos)("ngModel",i.descripcionmerc),t.R7$(2),t.Y8G("ngClass",t.eq3(40,w,i.resultadodescripcionmerc.length>0)),t.R7$(1),t.Y8G("ngForOf",i.resultadodescripcionmerc),t.R7$(4),t.Y8G("disabled",!i.habilitarCantidad)("ngModel",i.cantidadpen),t.R7$(30),t.Y8G("ngForOf",i.items),t.R7$(7),t.Y8G("value",i.formatNumber(i.protxt))("ngStyle",t.eq3(42,P,i.protxt<10?"red":"green")),t.R7$(4),t.Y8G("value",i.formatNumber(i.factxt))("ngStyle",t.eq3(44,P,i.factxt<10?"red":"green")),t.R7$(10),t.Y8G("value",t.i5U(225,29,i.subTotal,"1.2-2")),t.R7$(6),t.Y8G("ngModel",i.descuentotxt),t.R7$(5),t.Y8G("value",t.i5U(236,32,i.totalItbis,"1.2-2")),t.R7$(6),t.Y8G("value",t.i5U(242,35,i.totalGral,"1.2-2")))},dependencies:[b.YU,b.Sq,b.B3,l.qT,l.xH,l.y7,l.me,l.Q0,l.Zm,l.wz,l.BC,l.cb,l.j4,l.JD,l.vS,b.QX,b.oe],styles:[".active-row[_ngcontent-%COMP%]{background-color:#5793d3!important}#miTabla[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e6f7ff}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:8px;text-align:left}.text-cell[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}}return s})()}];let it=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[C.iI.forChild(et),C.iI]})}}return s})(),ot=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[b.MD,it,l.X1,l.YN]})}}return s})()}}]);