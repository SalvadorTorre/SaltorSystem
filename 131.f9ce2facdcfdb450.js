"use strict";(self.webpackChunkSaltorSystem=self.webpackChunkSaltorSystem||[]).push([[131],{4131:(M,h,a)=>{a.r(h),a.d(h,{ModuloSuplidor:()=>T});var d=a(177),m=a(8871),g=a(4412),S=a(152),f=a(3294),b=a(5558),n=a(9417),_=a(8032),c=a.n(_),i=a(8699),k=a(5273);const v=function(e){return{selected:e}};function F(e,u){if(1&e){const t=i.RV6();i.j41(0,"tr",35),i.bIt("click",function(){const l=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.seleccionarSuplidor(l))}),i.j41(1,"td",13),i.EFF(2),i.k0s(),i.j41(3,"td",14),i.EFF(4),i.k0s(),i.j41(5,"td",15),i.EFF(6),i.k0s(),i.j41(7,"td",16),i.EFF(8),i.k0s(),i.j41(9,"td")(10,"i",36),i.bIt("click",function(){const l=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.editarSuplidor(l))}),i.k0s(),i.j41(11,"i",37),i.bIt("click",function(){const l=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.eliminarSuplidor(l.su_codSupl))}),i.k0s(),i.j41(12,"i",38),i.bIt("click",function(){const l=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.consultarSuplidor(l))}),i.k0s()()()}if(2&e){const t=u.$implicit,r=i.XpG();i.Y8G("ngClass",i.eq3(5,v,t===r.selectedSuplidor)),i.R7$(2),i.JRh(t.su_codSupl),i.R7$(2),i.JRh(t.su_nomSupl),i.R7$(2),i.JRh(t.su_telSupl),i.R7$(2),i.JRh(t.su_rncSupl)}}function j(e,u){if(1&e){const t=i.RV6();i.j41(0,"li",20)(1,"a",39),i.bIt("click",function(){const l=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.changePage(l))}),i.EFF(2),i.k0s()()}if(2&e){const t=u.$implicit,r=i.XpG();i.AVh("active",r.currentPage===t),i.R7$(2),i.JRh(t)}}function C(e,u){if(1&e&&(i.j41(0,"button",55),i.EFF(1),i.k0s()),2&e){const t=i.XpG(2);i.R7$(1),i.SpI(" ",t.modoedicionSuplidor?"Editar":"Guardar"," ")}}function P(e,u){if(1&e){const t=i.RV6();i.j41(0,"div",40)(1,"form",41),i.bIt("ngSubmit",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.guardarSuplidor())}),i.j41(2,"div",42)(3,"div",43)(4,"label",44),i.EFF(5," Rnc"),i.k0s(),i.nrm(6,"input",45),i.k0s(),i.j41(7,"div",43)(8,"label",46),i.EFF(9,"Nombre"),i.k0s(),i.nrm(10,"input",47),i.k0s()(),i.j41(11,"div",42)(12,"div",43)(13,"label",48),i.EFF(14,"Direccion"),i.k0s(),i.nrm(15,"input",49),i.k0s(),i.j41(16,"div",43)(17,"label",50),i.EFF(18,"Telefono"),i.k0s(),i.nrm(19,"input",51),i.k0s()(),i.j41(20,"div",42)(21,"div",43)(22,"label",52),i.EFF(23,"Contacto"),i.k0s(),i.nrm(24,"input",53),i.k0s()(),i.DNE(25,C,2,1,"button",54),i.k0s()()}if(2&e){const t=i.XpG();i.R7$(1),i.Y8G("formGroup",t.formularioSuplidor),i.R7$(24),i.Y8G("ngIf",!t.modoconsultaSuplidor)}}const E=[{path:"",component:(()=>{class e{constructor(t,r){this.fb=t,this.servicioSuplidor=r,this.habilitarFormiarioSuplidor=!1,this.clienteList=[],this.modoedicionSuplidor=!1,this.modoconsultaSuplidor=!1,this.suplidorList=[],this.selectedSuplidor=null,this.totalItems=0,this.pageSize=8,this.currentPage=1,this.maxPagesToShow=5,this.txtdescripcion="",this.txtcodigo="",this.codSuplidor="",this.descripcion="",this.habilitarBusqueda=!1,this.mensagePantalla=!1,this.codigoBuscar=new g.t(""),this.descripcionBuscar=new g.t(""),this.crearFormularioSuplidor(),this.descripcionBuscar.pipe((0,S.B)(1e3),(0,f.F)(),(0,b.n)(o=>(this.descripcion=o,this.servicioSuplidor.buscarTodosSuplidor(this.currentPage,this.pageSize,this.codSuplidor,this.descripcion)))).subscribe(o=>{this.suplidorList=o.data,this.totalItems=o.pagination.total,this.currentPage=o.pagination.page}),this.codigoBuscar.pipe((0,S.B)(500),(0,f.F)(),(0,b.n)(o=>(this.codSuplidor=o,this.servicioSuplidor.buscarTodosSuplidor(this.currentPage,this.pageSize,this.codSuplidor,this.descripcion)))).subscribe(o=>{this.suplidorList=o.data,this.totalItems=o.pagination.total,this.currentPage=o.pagination.page})}descripcionEntra(t){this.descripcionBuscar.next(t.target.value.toUpperCase())}codigoEntra(t){this.codigoBuscar.next(t.target.value.toUpperCase())}seleccionarSuplidor(t){this.selectedSuplidor=t}ngOnInit(){this.buscarTodosSuplidor(1),this.formularioSuplidor.get("su_nomsupl").valueChanges.subscribe(t=>{this.updateCharCount()})}updateCharCount(){throw new Error("Method not implemented.")}crearFormularioSuplidor(){this.formularioSuplidor=this.fb.group({su_rncSupl:["",n.k0.required],su_nomSupl:["",n.k0.required],su_dirSupl:[""],su_telSupl:[""],su_contact:[""],su_status:[!0]})}habilitarFormularioSuplidor(){this.habilitarFormiarioSuplidor=!1}nuevoSuplidor(){this.modoedicionSuplidor=!1,this.tituloModalSuplidor="Agregando Suplidor",$("#modalsuplidor").modal("show"),this.habilitarFormiarioSuplidor=!0,this.formularioSuplidor.enable({emitEvent:!1})}cerrarModalSuplidor(){this.habilitarFormiarioSuplidor=!1,this.formularioSuplidor.reset(),this.modoedicionSuplidor=!1,this.modoconsultaSuplidor=!1,$("#modalsuplidor").modal("hide"),this.crearFormularioSuplidor()}editarSuplidor(t){this.suplidorid=t.su_codSupl,this.modoedicionSuplidor=!0,this.formularioSuplidor.enable({emitEvent:!1}),this.formularioSuplidor.patchValue(t),this.tituloModalSuplidor="Editando Suplidor",$("#modalsuplidor").modal("show"),this.habilitarFormiarioSuplidor=!0}buscarTodosSuplidor(t){this.servicioSuplidor.buscarTodosSuplidor(t,this.pageSize).subscribe(r=>{console.log(r),this.suplidorList=r.data})}consultarSuplidor(t){this.tituloModalSuplidor="Consulta Suplidor",this.formularioSuplidor.patchValue(t),$("#modalsuplidor").modal("show"),this.habilitarFormiarioSuplidor=!0,this.modoconsultaSuplidor=!0,this.formularioSuplidor.disable({emitEvent:!1})}eliminarSuplidor(t){console.log("ID que llega:",t),this.servicioSuplidor.eliminarSuplidor(t).subscribe(r=>{c().fire({title:"Excelente!",text:"Suplidor Eliminado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.buscarTodosSuplidor(this.currentPage)})}guardarSuplidor(){if(console.log(this.formularioSuplidor.value),this.formularioSuplidor.valid){const t=this.formularioSuplidor.value,r={...t,su_rncSupl:null!=t.su_rncSupl?String(t.su_rncSupl):null};this.modoedicionSuplidor?this.servicioSuplidor.editarSuplidor(this.suplidorid,r).subscribe(o=>{c().fire({title:"Excelente!",text:"Suplidor Guardado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.buscarTodosSuplidor(1),this.formularioSuplidor.reset(),this.crearFormularioSuplidor(),$("#modalsuplidor").modal("hide")}):this.servicioSuplidor.guardarSuplidor(r).subscribe(o=>{c().fire({title:"Excelente!",text:"Suplidor Guardado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.buscarTodosSuplidor(1),this.formularioSuplidor.reset(),this.crearFormularioSuplidor(),$("#modalcliente").modal("hide")})}else alert("Este Suplidor no fue Guardado")}get totalPages(){return Math.ceil(this.totalItems/this.pageSize)}get pages(){const t=this.totalPages,r=this.currentPage,o=this.maxPagesToShow;if(t<=o)return Array.from({length:t},(B,p)=>p+1);const l=Math.max(1,r-Math.floor(o/2)),s=Math.min(t,l+o-1);return Array.from({length:s-l+1},(B,p)=>l+p)}changePage(t){this.currentPage=t,this.codigoBuscar.getValue();const o=this.descripcionBuscar.getValue();this.servicioSuplidor.buscarTodosSuplidor(this.currentPage,this.pageSize,o).subscribe(l=>{this.suplidorList=l.data,this.totalItems=l.pagination.total,this.currentPage=t})}static{this.\u0275fac=function(r){return new(r||e)(i.rXU(n.ok),i.rXU(k.J))}}static{this.\u0275cmp=i.VBU({type:e,selectors:[["Suplidor"]],decls:61,vars:14,consts:[[1,"card",2,"height","87vh"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-2"],["for",""],["type","text","placeholder","Digite el Codigo",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"col-3"],["type","text","placeholder","Digite el Nombre...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"btn","btn-primary","mt-4",3,"click"],[1,"table-responsive",2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-hover","table-striped","table-sm"],[1,"table-dark"],[2,"width","10%"],[2,"width","40%"],[2,"width","20%"],[2,"width","15%"],[3,"ngClass","click",4,"ngFor","ngForOf"],["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","First",1,"page-link",3,"click"],["aria-hidden","true"],["aria-label","Previous",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["aria-label","Last",1,"page-link",3,"click"],["id","modalsuplidor","tabindex","-1","aria-labelledby","modalSuplidorLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","modalSuplidorLabel",1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","mb-3",4,"ngIf"],[3,"ngClass","click"],[1,"bi","bi-pencil","text-primary",2,"padding","10px",3,"click"],[1,"bi","bi-trash","text-danger",2,"padding","10px",3,"click"],[1,"bi","bi-card-list","text-success",2,"padding","10px",3,"click"],[1,"page-link",3,"click"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group"],["for","su_rncSupl"],["type","text","formControlName","su_rncSupl",1,"form-control"],["for","su_nomSupl"],["formControlName","su_nomSupl",1,"form-control"],["for","su_dirSupl"],["id","su_dirSupl","formControlName","su_dirSupl",1,"form-control"],["for","su_telSupl"],["formControlName","su_telSupl",1,"form-control"],["for","su_contact"],["formControlName","su_contact",1,"form-control"],["type","submit","class","btn btn-success",4,"ngIf"],["type","submit",1,"btn","btn-success"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"h1"),i.EFF(3,"Suplidor"),i.k0s()(),i.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),i.EFF(8,"Buscar Codigo"),i.k0s(),i.j41(9,"input",6),i.bIt("ngModelChange",function(s){return o.txtcodigo=s})("input",function(s){return o.codigoEntra(s)}),i.k0s()(),i.j41(10,"div",7)(11,"label",5),i.EFF(12,"Buscar Nombre"),i.k0s(),i.j41(13,"input",8),i.bIt("ngModelChange",function(s){return o.txtdescripcion=s})("input",function(s){return o.descripcionEntra(s)}),i.k0s()(),i.j41(14,"div",4)(15,"button",9),i.bIt("click",function(){return o.nuevoSuplidor()}),i.EFF(16," Nuevo Suplidor "),i.k0s()()(),i.nrm(17,"br"),i.j41(18,"div",10)(19,"table",11)(20,"thead",12)(21,"tr")(22,"th",13),i.EFF(23,"Codigo"),i.k0s(),i.j41(24,"th",14),i.EFF(25,"Nombre"),i.k0s(),i.j41(26,"th",15),i.EFF(27,"Telefono"),i.k0s(),i.j41(28,"th",16),i.EFF(29,"Rnc"),i.k0s(),i.nrm(30,"th"),i.k0s()(),i.j41(31,"tbody"),i.DNE(32,F,13,7,"tr",17),i.k0s()()(),i.j41(33,"nav",18)(34,"ul",19)(35,"li",20)(36,"a",21),i.bIt("click",function(){return o.changePage(1)}),i.j41(37,"span",22),i.EFF(38,"\xab\xab"),i.k0s()()(),i.j41(39,"li",20)(40,"a",23),i.bIt("click",function(){return o.changePage(o.currentPage-1)}),i.j41(41,"span",22),i.EFF(42,"\xab"),i.k0s()()(),i.DNE(43,j,3,3,"li",24),i.j41(44,"li",20)(45,"a",25),i.bIt("click",function(){return o.changePage(o.currentPage+1)}),i.j41(46,"span",22),i.EFF(47,"\xbb"),i.k0s()()(),i.j41(48,"li",20)(49,"a",26),i.bIt("click",function(){return o.changePage(o.totalPages)}),i.j41(50,"span",22),i.EFF(51,"\xbb\xbb"),i.k0s()()()()(),i.j41(52,"div",27)(53,"div",28)(54,"div",29)(55,"div",30)(56,"h1",31),i.EFF(57),i.k0s(),i.j41(58,"button",32),i.bIt("click",function(){return o.cerrarModalSuplidor()}),i.k0s()(),i.j41(59,"div",33),i.DNE(60,P,26,2,"div",34),i.k0s()()()()()()),2&r&&(i.R7$(9),i.Y8G("ngModel",o.txtcodigo),i.R7$(4),i.Y8G("ngModel",o.txtdescripcion),i.R7$(19),i.Y8G("ngForOf",o.suplidorList),i.R7$(3),i.AVh("disabled",1===o.currentPage),i.R7$(4),i.AVh("disabled",1===o.currentPage),i.R7$(4),i.Y8G("ngForOf",o.pages),i.R7$(1),i.AVh("disabled",o.currentPage===o.totalPages),i.R7$(4),i.AVh("disabled",o.currentPage===o.totalPages),i.R7$(9),i.SpI(" ",o.tituloModalSuplidor," "),i.R7$(3),i.Y8G("ngIf",o.habilitarFormiarioSuplidor))},dependencies:[d.YU,d.Sq,d.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,n.vS],styles:[".form-container[_ngcontent-%COMP%]{background-color:#fcfeff;padding:20px;border-radius:10px;box-shadow:0 2px 5px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.form-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:0 0 48%}.table-responsive[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.selected[_ngcontent-%COMP%]{background-color:#c30404!important}"]})}}return e})()}];let x=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=i.$C({type:e})}static{this.\u0275inj=i.G2t({imports:[m.iI.forChild(E),m.iI]})}}return e})(),T=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=i.$C({type:e})}static{this.\u0275inj=i.G2t({imports:[d.MD,x,n.X1,n.YN]})}}return e})()}}]);