"use strict";(self.webpackChunkSaltorSystem=self.webpackChunkSaltorSystem||[]).push([[175],{3175:(C,m,a)=>{a.r(m),a.d(m,{ModuloSector:()=>x});var d=a(177),c=a(9417),S=a(8871),h=a(8032),u=a.n(h),t=a(8699),f=a(333),b=a(9591);const p=function(o){return{selected:o}};function _(o,l){if(1&o){const e=t.RV6();t.j41(0,"tr",25),t.bIt("click",function(){const s=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.seleccionarSector(s))}),t.j41(1,"td",13),t.EFF(2),t.k0s(),t.j41(3,"td",14),t.EFF(4),t.k0s(),t.j41(5,"td",15),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"i",26),t.bIt("click",function(){const s=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.editarSector(s))}),t.k0s(),t.j41(9,"i",27),t.bIt("click",function(){const s=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.eliminarSector(s.se_codSect))}),t.k0s(),t.j41(10,"i",28),t.bIt("click",function(){const s=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.consultarSector(s))}),t.k0s()()()}if(2&o){const e=l.$implicit,r=t.XpG();t.Y8G("ngClass",t.eq3(4,p,e===r.selectedSector)),t.R7$(2),t.JRh(e.se_codSect),t.R7$(2),t.JRh(e.se_desSect),t.R7$(2),t.JRh(e.se_codZona)}}function g(o,l){if(1&o&&(t.j41(0,"option",37),t.EFF(1),t.k0s()),2&o){const e=l.$implicit;t.Y8G("ngValue",e.zo_codZona),t.R7$(1),t.Lme(" ",e.zo_codZona," - ",e.zo_descrip," ")}}function F(o,l){if(1&o&&(t.j41(0,"button",40),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(1),t.SpI(" ",e.modoedicionSector?"Editar":"Guardar"," ")}}function v(o,l){if(1&o){const e=t.RV6();t.j41(0,"div",29)(1,"form",30),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.guardarSector())}),t.j41(2,"div",31)(3,"div",32)(4,"label",33),t.EFF(5,"Descripci\xf3n"),t.k0s(),t.nrm(6,"input",34),t.k0s(),t.j41(7,"div",32)(8,"label",35),t.EFF(9,"Zona"),t.k0s(),t.j41(10,"select",36)(11,"option",37),t.EFF(12,"Seleccione una zona"),t.k0s(),t.DNE(13,g,2,3,"option",38),t.k0s()()(),t.DNE(14,F,2,1,"button",39),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(1),t.Y8G("formGroup",e.formularioSector),t.R7$(10),t.Y8G("ngValue",null),t.R7$(2),t.Y8G("ngForOf",e.zonasList),t.R7$(1),t.Y8G("ngIf",!e.modoconsultaSector)}}const k=[{path:"",component:(()=>{class o{constructor(e,r,i){this.fb=e,this.servicioSector=r,this.servicioZona=i,this.habilitarFormiarioSector=!1,this.sectorList=[],this.zonasList=[],this.modoedicionSector=!1,this.modoconsultaSector=!1,this.selectedSector=null,this.pageSize=8,this.currentPage=1,this.txtdescripcion="",this.crearFormularioSector()}ngOnInit(){this.buscarTodosSector(1),this.servicioZona.obtenerTodasZonas().subscribe(e=>{this.zonasList=e.data})}crearFormularioSector(){this.formularioSector=this.fb.group({se_desSect:["",c.k0.required],se_codZona:[null,c.k0.required]})}nuevoSector(){this.modoedicionSector=!1,this.tituloModalSector="Agregando Sector",$("#modalsector").modal("show"),this.habilitarFormiarioSector=!0,this.formularioSector.enable({emitEvent:!1}),this.formularioSector.reset({se_desSect:"",se_codZona:null})}cerrarModalSector(){this.habilitarFormiarioSector=!1,this.formularioSector.reset(),this.modoedicionSector=!1,this.modoconsultaSector=!1,$("#modalsector").modal("hide"),this.crearFormularioSector()}seleccionarSector(e){this.selectedSector=e}editarSector(e){this.sectorid=e.se_codSect,this.modoedicionSector=!0,this.formularioSector.enable({emitEvent:!1}),this.formularioSector.patchValue(e),this.tituloModalSector="Editando Sector",$("#modalsector").modal("show"),this.habilitarFormiarioSector=!0}consultarSector(e){this.tituloModalSector="Consulta Sector",this.formularioSector.patchValue(e),$("#modalsector").modal("show"),this.habilitarFormiarioSector=!0,this.modoconsultaSector=!0,this.formularioSector.disable({emitEvent:!1})}eliminarSector(e){this.servicioSector.eliminarSector(e).subscribe(r=>{u().fire({title:"Excelente!",text:"Sector Eliminado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.buscarTodosSector(this.currentPage)})}guardarSector(){if(this.formularioSector.valid){const e=this.formularioSector.value,r={se_desSect:String(e.se_desSect||"").toUpperCase(),se_codZona:Number(e.se_codZona)};this.modoedicionSector?this.servicioSector.editarSector(this.sectorid,r).subscribe(i=>{u().fire({title:"Excelente!",text:"Sector Guardado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.buscarTodosSector(1),this.formularioSector.reset(),this.crearFormularioSector(),$("#modalsector").modal("hide")}):this.servicioSector.guardarSector(r).subscribe(i=>{u().fire({title:"Excelente!",text:"Sector Guardado correctamente.",icon:"success",timer:3e3,showConfirmButton:!1}),this.buscarTodosSector(1),this.formularioSector.reset(),this.crearFormularioSector(),$("#modalsector").modal("hide")})}else alert("Este Sector no fue Guardado")}buscarTodosSector(e){this.servicioSector.buscarTodosSector(e,this.pageSize,this.txtdescripcion).subscribe(r=>{this.sectorList=r.data,r.totalItems&&(this.totalItems=r.totalItems)})}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(c.ok),t.rXU(f.V),t.rXU(b.x))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["Sector"]],decls:38,vars:4,consts:[[1,"card",2,"height","87vh"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-3"],["for",""],["type","text","placeholder","Digite la descripci\xf3n...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-2"],[1,"btn","btn-primary","mt-4",3,"click"],[1,"btn","btn-primary","mt-4","ms-2",3,"click"],[1,"table-responsive",2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-hover","table-striped","table-sm"],[1,"table-dark"],[2,"width","10%"],[2,"width","50%"],[2,"width","20%"],[3,"ngClass","click",4,"ngFor","ngForOf"],["id","modalsector","tabindex","-1","aria-labelledby","modalSectorLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","modalSectorLabel",1,"modal-title","fs-5"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","mb-3",4,"ngIf"],[3,"ngClass","click"],[1,"bi","bi-pencil","text-primary",2,"padding","10px",3,"click"],[1,"bi","bi-trash","text-danger",2,"padding","10px",3,"click"],[1,"bi","bi-card-list","text-success",2,"padding","10px",3,"click"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group"],["for","se_desSect"],["formControlName","se_desSect",1,"form-control"],["for","se_codZona"],["formControlName","se_codZona",1,"form-select"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit","class","btn btn-success",4,"ngIf"],["type","submit",1,"btn","btn-success"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Sector"),t.k0s()(),t.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),t.EFF(8,"Buscar Descripci\xf3n"),t.k0s(),t.j41(9,"input",6),t.bIt("ngModelChange",function(n){return i.txtdescripcion=n}),t.k0s()(),t.j41(10,"div",7)(11,"button",8),t.bIt("click",function(){return i.buscarTodosSector(1)}),t.EFF(12," Buscar "),t.k0s(),t.j41(13,"button",9),t.bIt("click",function(){return i.nuevoSector()}),t.EFF(14," Nuevo Sector "),t.k0s()()(),t.nrm(15,"br"),t.j41(16,"div",10)(17,"table",11)(18,"thead",12)(19,"tr")(20,"th",13),t.EFF(21,"C\xf3digo"),t.k0s(),t.j41(22,"th",14),t.EFF(23,"Descripci\xf3n"),t.k0s(),t.j41(24,"th",15),t.EFF(25,"Zona"),t.k0s(),t.nrm(26,"th"),t.k0s()(),t.j41(27,"tbody"),t.DNE(28,_,11,6,"tr",16),t.k0s()()(),t.j41(29,"div",17)(30,"div",18)(31,"div",19)(32,"div",20)(33,"h1",21),t.EFF(34),t.k0s(),t.j41(35,"button",22),t.bIt("click",function(){return i.cerrarModalSector()}),t.k0s()(),t.j41(36,"div",23),t.DNE(37,v,15,4,"div",24),t.k0s()()()()()()),2&r&&(t.R7$(9),t.Y8G("ngModel",i.txtdescripcion),t.R7$(19),t.Y8G("ngForOf",i.sectorList),t.R7$(6),t.SpI(" ",i.tituloModalSector," "),t.R7$(3),t.Y8G("ngIf",i.habilitarFormiarioSector))},dependencies:[d.YU,d.Sq,d.bT,c.qT,c.xH,c.y7,c.me,c.wz,c.BC,c.cb,c.j4,c.JD,c.vS],styles:[".selected[_ngcontent-%COMP%]{background-color:#eef5ff}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-group[_ngcontent-%COMP%]{flex:1}"]})}}return o})()}];let j=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[S.iI.forChild(k),S.iI]})}}return o})(),x=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[d.MD,j,c.X1,c.YN]})}}return o})()}}]);