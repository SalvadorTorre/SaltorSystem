(self.webpackChunkSaltorSystem=self.webpackChunkSaltorSystem||[]).push([[627],{3627:(R,o,f)=>{"use strict";f.r(o),f.d(o,{ModuloCobroFact:()=>Gt});var d=f(9417),s=f(177),a=f(8871),l=f(4412),h=f(8032),g=f.n(h),t=f(8699),_=f(1757),u=f(3290),e=f(9743),n=f(6687),i=f(8747),r=f(333),c=f(1919),m=f(9287);let v=(()=>{class k{constructor(p){this.http=p}guardarFentrega(p){return this.http.PostRequest("/fentrega",p)}editarFentrega(p,C){return this.http.PutRequest(`/fentrega/${p}`,C)}eliminarFentrega(p){return this.http.DeleteRequest(`/fentrega/${p}`,"")}buscarTodosFentrega(p,C,F){let w=`/fentrega?page=${p}&limit=${C}`;return F&&(w+=`&descripcion=${F}`),this.http.GetRequest(w)}obtenerTodosFentrega(){return this.http.GetRequest("/fentrega")}obtenerFentregaPorId(p){return this.http.GetRequest(`/fentrega/${p}`)}static{this.\u0275fac=function(C){return new(C||k)(t.KVO(m.a))}}static{this.\u0275prov=t.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();var b=f(151),y=f(1626),E=f(467),T=f(5378),j=f(1874),U=f.n(j),x=f(8314);let N=(()=>{class k{constructor(){}imprimirFactura80mm(p,C){var F=this;return(0,E.A)(function*(){try{console.log("Iniciando impresi\xf3n de factura...",p),console.log("JsBarcode loaded:",!!U());const w=new T.jsPDF({orientation:"p",unit:"mm",format:[80,297]}),z=74,Y=z/2,V=5,H=5;let O=5;const J=L=>{w.setLineDash([1,1],0),w.line(V,L,z-H,L),w.setLineDash([],0)},G=(L,X,ut)=>{w.text(L,Y,X,{align:"center",...ut})};try{w.addImage("assets/logo2.png","PNG",Y-10,O,20,20),O+=25}catch(L){console.warn("Logo no cargado",L),O+=5}w.setFont("helvetica","bold"),w.setFontSize(9),O+=5,w.setFont("helvetica","normal"),w.setFontSize(8);let Q="CENTRO HIERRO MARCOS SRL",Z="CALLE 30 DE MARZO NO. 54",rt="809-547-0022",ot="101-66762-2";try{const L=localStorage.getItem("empresa");if(console.log("Raw empresaStorage:",L),L&&"[object Object]"!==L){let X=JSON.parse(L);console.log("Parsed empresa:",X),Array.isArray(X)&&(X=X[0]),X&&("string"==typeof X?(Q=X,Z=localStorage.getItem("direccion_empresa")||Z,rt=localStorage.getItem("telefono_empresa")||rt,ot=localStorage.getItem("rnc_empresa")||ot):(Q=X.nom_empre||Q,Z=X.dir_empre||Z,rt=X.tel_empre||rt,ot=X.rnc_empre||ot))}else"[object Object]"===L&&console.warn("DATOS DE EMPRESA CORRUPTOS EN LOCALSTORAGE. POR FAVOR CERRAR SESION Y ENTRAR DE NUEVO.")}catch(L){console.warn("Error recuperando datos de empresa",L)}G(Q,O),O+=4;const _t=w.splitTextToSize(Z,z-(V+H));G(_t,O),O+=4*_t.length,G(`Tel: ${rt}`,O),O+=4,G(`RNC: ${ot}`,O),O+=6,J(O),O+=5;const W=p.data||p,wt=W.fa_ncfFact||W.ncf||"",$t=W.fa_fecFact?new Date(W.fa_fecFact):new Date,Ut=W.fa_nomClie||"CLIENTE GENERICO",Ot=W.fa_rncFact||"",St=W.fa_codFact||"",It=W.fa_nomVend||W.fa_codVend||"";let Pt="FACTURA PARA CONSUMIDOR FINAL";(String(wt).startsWith("B01")||String(wt).startsWith("E31"))&&(Pt="FACTURA DE CR\xc9DITO FISCAL"),w.setFont("helvetica","bold"),G(Pt,O),O+=5,w.setFont("helvetica","normal"),w.text(`NCF: ${wt}`,V,O),O+=4,w.text(`Fecha: ${(L=>{const X=new Date(L);return`${X.getDate().toString().padStart(2,"0")}/${(X.getMonth()+1).toString().padStart(2,"0")}/${X.getFullYear()} ${X.getHours().toString().padStart(2,"0")}:${X.getMinutes().toString().padStart(2,"0")}`})($t)}`,V,O),O+=4,w.text(`Factura: ${St}`,V,O),O+=4,J(O),O+=5,w.text(`Cliente: ${Ut}`,V,O),O+=4,Ot&&"N/A"!==Ot&&(w.text(`RNC/C\xe9dula: ${Ot}`,V,O),O+=4),It&&(w.text(`Vendedor: ${It}`,V,O),O+=4),J(O),O+=5,w.setFont("helvetica","bold");const Tt=V,At=38,Mt=52,kt=z-H;w.text("DESC",Tt,O),w.text("CANT",At,O,{align:"right"}),w.text("ITBIS",Mt,O,{align:"right"}),w.text("VALOR",kt,O,{align:"right"}),O+=2,J(O),O+=4,w.setFont("helvetica","normal");const dt=new Intl.NumberFormat("es-DO",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});C.forEach(L=>{const ut=L.cantidad||L.df_canMerc||0,vt=L.total||L.df_valMerc||0,Ct=L.df_itbiMerc||.18*vt||0,pt=w.splitTextToSize(L.producto?.in_desmerc||L.df_desMerc||"",30);w.text(pt,Tt,O),w.text(String(ut),At,O,{align:"right"}),w.text(dt.format(Ct),Mt,O,{align:"right"}),w.text(dt.format(vt),kt,O,{align:"right"}),O+=Math.max(4*pt.length,4)+2}),J(O),O+=5;const Ht=W.fa_subFact||0,Vt=W.fa_itbiFact||0,Xt=W.fa_valFact||0,Ft=35,Rt=z-H;w.text("Subtotal",Ft,O,{align:"right"}),w.text(dt.format(Ht),Rt,O,{align:"right"}),O+=4,w.text("ITBIS",Ft,O,{align:"right"}),w.text(dt.format(Vt),Rt,O,{align:"right"}),O+=4,w.setFont("helvetica","bold"),w.text("TOTAL",Ft,O,{align:"right"}),w.text(dt.format(Xt),Rt,O,{align:"right"}),O+=4,J(O),O+=5;const xt=p.securityCode||W.securityCode||W.CodigoSeguridad,Bt=p.qrUrl||W.qrUrl,Dt=p.signatureDateTime||W.signatureDateTime;if(St)try{const L=document.createElement("canvas");U()(L,St,{format:"CODE128",width:2,height:40,displayValue:!0,fontSize:10,margin:0});const X=L.toDataURL("image/png");w.addImage(X,"PNG",Y-25,O,50,15),O+=20}catch(L){console.error("Error generating barcode",L)}if(Bt)try{const L=yield x.dY(Bt,{errorCorrectionLevel:"M"});w.addImage(L,"PNG",Y-12.5,O,25,25),O+=30}catch(L){console.error("Error generating QR code",L)}xt&&(w.setFont("helvetica","bold"),G(`C\xf3digo Seguridad: ${xt}`,O),O+=5),Dt&&(w.setFont("helvetica","normal"),w.setFontSize(7),G(`Fecha Firma: ${Dt}`,O),w.setFontSize(10),O+=5),O+=5,w.setFont("helvetica","normal"),w.setFontSize(8),w.text(`Art\xedculos: ${C.length}`,V,O),O+=4,G("*** GRACIAS POR SU COMPRA ***",O),O+=15,w.text(".",V,O,{align:"left"}),w.autoPrint();const Yt=w.output("blob"),Jt=URL.createObjectURL(Yt);F.printPdf(Jt)}catch(w){console.error("Error fatal al generar factura:",w)}})()}printPdf(p){const C=document.createElement("iframe");C.style.position="fixed",C.style.right="0",C.style.bottom="0",C.style.width="0",C.style.height="0",C.style.border="0",document.body.appendChild(C),C.onload=()=>{try{C.contentWindow?.focus(),setTimeout(()=>C.contentWindow?.print(),500)}catch(F){console.error("Print error",F)}finally{setTimeout(()=>{document.body.removeChild(C);try{URL.revokeObjectURL(p)}catch{}},2e3)}},C.src=p}static{this.\u0275fac=function(C){return new(C||k)}}static{this.\u0275prov=t.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})();const B=["inputCodmerc"],S=["descripcionInput"],A=["Tabladetalle"],P=["contenedorScroll"],I=["valorPagadoInput"],M=["buscarcodmercInput"],D=["filaSeleccionada"];function q(k,K){1&k&&(t.j41(0,"span",106),t.nrm(1,"i",107),t.EFF(2," Pendiente "),t.k0s())}function nt(k,K){1&k&&(t.j41(0,"span",108),t.nrm(1,"i",109),t.EFF(2," Envio "),t.k0s())}function bt(k,K){1&k&&(t.j41(0,"span",110),t.nrm(1,"i",111),t.EFF(2," Retiro "),t.k0s())}function ht(k,K){if(1&k&&(t.j41(0,"span",112),t.EFF(1),t.k0s()),2&k){const p=t.XpG().$implicit;t.R7$(1),t.JRh(p.fa_envio)}}function yt(k,K){1&k&&(t.j41(0,"span",113),t.nrm(1,"i",114),t.EFF(2," Efectivo "),t.k0s())}function ct(k,K){1&k&&(t.j41(0,"span",115),t.nrm(1,"i",116),t.EFF(2," Cr\xe9dito "),t.k0s())}function at(k,K){1&k&&(t.j41(0,"span",117),t.nrm(1,"i",118),t.EFF(2," Cheque "),t.k0s())}function gt(k,K){1&k&&(t.j41(0,"span",108),t.nrm(1,"i",119),t.EFF(2," Transf./Dep. "),t.k0s())}function lt(k,K){1&k&&(t.j41(0,"span",110),t.nrm(1,"i",120),t.EFF(2," Tarjeta "),t.k0s())}const Et=function(k){return{"table-primary":k}};function ft(k,K){if(1&k){const p=t.RV6();t.j41(0,"tr",85),t.bIt("click",function(){const w=t.eBV(p).$implicit,z=t.XpG();return t.Njj(z.consultarFacturacion(w))}),t.j41(1,"td",86)(2,"div",87),t.EFF(3),t.k0s()(),t.j41(4,"td")(5,"div",88)(6,"span",89),t.EFF(7),t.k0s(),t.j41(8,"div",90)(9,"small",91),t.EFF(10),t.k0s(),t.j41(11,"div",92),t.DNE(12,q,3,0,"span",93),t.j41(13,"div",94),t.DNE(14,nt,3,0,"span",95),t.DNE(15,bt,3,0,"span",96),t.DNE(16,ht,2,1,"span",97),t.k0s(),t.j41(17,"div",98),t.DNE(18,yt,3,0,"span",99),t.DNE(19,ct,3,0,"span",100),t.DNE(20,at,3,0,"span",101),t.DNE(21,gt,3,0,"span",95),t.DNE(22,lt,3,0,"span",96),t.k0s()()()()(),t.j41(23,"td",61)(24,"div",102),t.EFF(25),t.nI1(26,"number"),t.k0s()(),t.j41(27,"td",103)(28,"button",104),t.nrm(29,"i",105),t.k0s()()()}if(2&k){const p=K.$implicit,C=t.XpG();t.Y8G("ngClass",t.eq3(18,Et,p.fa_codFact===C.codFacturaselecte)),t.R7$(3),t.JRh(p.fa_codFact),t.R7$(4),t.SpI(" ",p.fa_nomClie||"Sin nombre"," "),t.R7$(3),t.JRh(p.fa_fecFact),t.R7$(2),t.Y8G("ngIf","P"===p.fa_impresa),t.R7$(1),t.Y8G("ngSwitch",C.getDeliveryMode(p.fa_envio)),t.R7$(1),t.Y8G("ngSwitchCase","Envio"),t.R7$(1),t.Y8G("ngSwitchCase","Retiro"),t.R7$(2),t.Y8G("ngSwitch",p.fa_codfpago),t.R7$(1),t.Y8G("ngSwitchCase",1),t.R7$(1),t.Y8G("ngSwitchCase",2),t.R7$(1),t.Y8G("ngSwitchCase",3),t.R7$(1),t.Y8G("ngSwitchCase",4),t.R7$(1),t.Y8G("ngSwitchCase",5),t.R7$(3),t.SpI("$",t.i5U(26,15,p.fa_valFact,"1.2-2"),"")}}function mt(k,K){1&k&&(t.j41(0,"tr")(1,"td",121),t.nrm(2,"i",122),t.EFF(3," No hay facturas pendientes "),t.k0s()())}function tt(k,K){if(1&k&&(t.j41(0,"option",123),t.EFF(1),t.k0s()),2&k){const p=K.$implicit;t.Y8G("value",p.fp_codfpago),t.R7$(1),t.JRh(p.fp_descfpago)}}function et(k,K){if(1&k&&(t.j41(0,"option",123),t.EFF(1),t.k0s()),2&k){const p=K.$implicit;t.Y8G("value",p.idfentrega),t.R7$(1),t.JRh(p.desentrega)}}function it(k,K){if(1&k&&(t.j41(0,"tr")(1,"td",86)(2,"div",124),t.EFF(3),t.k0s()(),t.j41(4,"td",125),t.EFF(5),t.k0s(),t.j41(6,"td",126),t.EFF(7),t.nI1(8,"number"),t.k0s()()),2&k){const p=K.$implicit;t.R7$(3),t.JRh(null==p.producto?null:p.producto.in_desmerc),t.R7$(2),t.JRh(p.cantidad),t.R7$(2),t.SpI("$",t.i5U(8,3,p.total,"1.2-2"),"")}}function st(k,K){1&k&&(t.j41(0,"tr")(1,"td",127)(2,"small"),t.EFF(3,"Sin items"),t.k0s()()())}const Nt=function(k){return{"is-invalid":k}},Lt=[{path:"",component:(()=>{class k{get totalPages(){return Math.ceil(this.facturacionList.length/this.pageSize)}get paginatedData(){const p=(this.currentPage-1)*this.pageSize;return this.facturacionList.slice(p,p+this.pageSize)}getDeliveryMode(p){const C=String(p).toLowerCase();return"1"===C||"envio"===C?"Envio":"2"===C||"retiro"===C?"Retiro":p}constructor(p,C,F,w,z,Y,V,H,O,J,G,Q){this.fb=p,this.servicioFacturacion=C,this.servicioCliente=F,this.ServicioInventario=w,this.ServicioUsuario=z,this.ServicioRnc=Y,this.ServicioSector=V,this.servicioFpago=H,this.servicioFentrega=O,this.servicioNcf=J,this.http=G,this.printingService=Q,this.facturaData=null,this.mensaje="",this.facturas=[],this.botonEditar=!0,this.botonImprimir=!0,this.botonaddItems=!0,this.chekpagada=!0,this.chekPagado=!1,this.txtcambio=!0,this.txtvalPagado=!0,this.totalItems=1e3,this.modoEdicion=!1,this.pageSize=6,this.fentrega="",this.ftipoPago="",this.currentPage=1,this.maxPagesToShow=5,this.valorpagado=0,this.valCambio=0,this.facturaSelecionada=null,this.codFacturaselecte=" ",this.txtdescripcion="",this.descripcionFormaPago="",this.txtcodigo="",this.descripcion="",this.codigo="",this.fecha="",this.descripcionBuscar=new l.t(""),this.codigoBuscar=new l.t(""),this.fechaBuscar=new l.t(""),this.habilitarFormulario=!1,this.modoedicionFacturacion=!1,this.modoconsultaFacturacion=!1,this.facturacionList=[],this.detFacturaList=[],this.items=[],this.ncflist=[],this.selectedItem=null,this.valorPagado=0,this.valorPagadoFormateado="0,00",this.cambio=0,this.totalGral=0,this.totalItbis=0,this.totalcosto=0,this.costoGral=0,this.subTotal=0,this.subtotaltxt="",this.itbitxt="",this.totalgraltxt="",this.txtFactura="",this.txtFecha="",this.txtNombre="",this.descuentotxt="",this.tiponcf="Consumidor Final",this.codmerc="",this.descripcionmerc="",this.cantidadmerc=0,this.preciomerc=0,this.precioform=new d.MJ,this.cantidadform=new d.MJ,this.isEditing=!1,this.itemToEdit=null,this.codnotfound=!1,this.desnotfound=!1,this.mensagePantalla=!1,this.codmerVacio=!1,this.desmerVacio=!1,this.habilitarCampos=!1,this.habilitarCantidad=!1,this.sucursales=[],this.sucursalSeleccionada=null,this.habilitarIcono=!0,this.rncValue="",this.cancelarBusquedaDescripcion=!1,this.cancelarBusquedaCodigo=!1,this.numfacturaSubject=new l.t(""),this.nomclienteSubject=new l.t(""),this.selectedRow=0,this.isDisabled=!0,this.buscarNombre=new d.MJ,this.resultadoNombre=[],this.resultadoSector=[],this.resultadoFpago=[],this.resultadoFentrega=[],this.buscarSector=new d.MJ,this.buscarFpago=new d.MJ,this.selectedIndex=1,this.selectedIndexsector=1,this.buscarcodmerc=new d.MJ,this.buscardescripcionmerc=new d.MJ,this.nativeElement=new d.MJ,this.resultadoCodmerc=[],this.selectedIndexcodmerc=1,this.selectedIndexfpago=1,this.resultadodescripcionmerc=[],this.selectedIndexdescripcionmerc=1,this.form=this.fb.group({fa_codVend:["",d.k0.required]}),this.crearFormularioFacturacion()}ngOnInit(){this.buscarFacturasNoImpresas(),this.obtenerNcf(),this.obtenerfpago(),this.obtenerFentrega()}obtenerfpago(){this.servicioFpago.obtenerTodosFpago().subscribe(p=>{this.resultadoFpago=p.data})}obtenerFentrega(){this.servicioFentrega.obtenerTodosFentrega().subscribe(p=>{this.resultadoFentrega=p.data||[]})}obtenerNcf(){this.servicioNcf.buscarTodosNcf().subscribe(p=>{this.ncflist=p.data})}crearFormularioFacturacion(){const C=this.formatofecha(new Date);this.formularioFacturacion=this.fb.group({fa_codFact:[{value:"",disabled:!0}],fa_fecFact:[{value:C,disabled:!0}],fa_valFact:[""],fa_subFact:[""],fa_itbiFact:[""],fa_codClie:[""],fa_cosFact:[""],fa_nomClie:[{value:"",disabled:!0}],fa_rncFact:[{value:"",disabled:!0}],fa_telClie:[{value:"",disabled:!0}],fa_telClie2:[{value:"",disabled:!0}],fa_dirClie:[{value:"",disabled:!0}],fa_correo:[{value:"",disabled:!0}],fa_codVend:[{value:"",disabled:!0}],fa_nomVend:[{value:"",disabled:!0}],fa_status:[""],fa_sector:[{value:"",disabled:!0}],fa_codZona:[null],fa_desZona:[""],fa_fpago:[{value:"",disabled:!0}],fa_codfpago:["1"],fa_envio:[{value:"",disabled:!0}],fa_ncfFact:[{value:"",disabled:!0}],fa_tipoNcf:[{value:"",disabled:!0}],fa_contacto:[{value:"",disabled:!0}],fa_despacho:[{value:"",disabled:!0}],fa_reimpresa:[{value:"",disabled:!0}],fa_entrega:[{value:"",disabled:!0}],fa_impresa:[{value:"",disabled:!0}],fa_facturada:[{value:"",disabled:!0}]})}limpia(){this.crearFormularioFacturacion(),this.txtdescripcion="",this.txtFactura="",this.txtFecha="",this.botonEditar=!0,this.botonImprimir=!0,this.chekPagado=!1,this.chekpagada=!0,this.codmerc="",this.descripcionmerc="",this.preciomerc=0,this.cantidadmerc=0,this.isEditing=!1,this.items=[],this.totalGral=0,this.totalItbis=0,this.subTotal=0,this.totalcosto=0,this.costoGral=0,this.factxt=0,this.habilitarCampos=!1,this.habilitarCantidad=!1,this.valorPagado=0,this.cambio=0,this.valCambio=0,this.fentrega="",this.ftipoPago="",this.buscarFacturasNoImpresas(),this.obtenerNcf(),this.obtenerfpago(),this.actualizarTotales(),$("#input1").focus(),$("#input1").select()}editardetFacturacion(p){this.facturacionid=p.df_codFact}editarFacturacion(p){this.facturacionid=p.fa_codFact,this.modoedicionFacturacion=!0,this.formularioFacturacion.patchValue(p),this.tituloModalFacturacion="Editando Facturacion",$("#modalfacturacion").modal("show"),this.habilitarFormulario=!0,document.querySelectorAll(".seccion-productos input").forEach(F=>{F.disabled=!0}),this.items=[],this.servicioFacturacion.buscarFacturaDetalle(p.fa_codFact).subscribe(F=>{let w=0,Y=0;F.data.forEach(H=>{const J=H.df_canMerc,G=H.df_preMerc,Q=J*G;this.items.push({producto:{in_codmerc:H.df_codMerc,in_desmerc:H.df_desMerc,in_grumerc:"",in_tipoproduct:"",in_canmerc:0,in_caninve:0,in_fecinve:null,in_eximini:0,in_cosmerc:0,in_premerc:0,in_precmin:0,in_ucosto:0,in_porgana:0,in_peso:0,in_longitud:0,in_unidad:0,in_medida:0,in_longitu:0,in_fecmodif:null,in_amacen:0,in_imagen:"",in_status:"",in_itbis:!1,in_minvent:0},cantidad:J,precio:G,total:Q,fecfactActual:new Date,costo:this.costotxt,fa_codFact:p.fa_codFact,fa_fecFact:p.fa_fecFact,fa_nomClie:p.fa_nomClie,fa_valFact:p.fa_valFact,fa_impresa:null===p.fa_impresa?"N":"S",fa_envio:p.fa_envio,fa_fpago:p.fa_fpago}),w+=Q,this.totalItbis+=.18*Q}),Y=w+this.totalItbis,this.subTotal=w,this.totalItbis=this.totalItbis,this.totalGral=Y})}buscarFacturasNoImpresas(){this.servicioFacturacion.obtenerFacturasNoImpresas().subscribe(p=>{console.log("Facturas recibidas:",p.data),this.facturacionList=p.data})}consultarFacturacion(p){this.modoconsultaFacturacion=!0,this.formularioFacturacion.reset(),this.crearFormularioFacturacion(),this.formularioFacturacion.patchValue(p),this.tituloModalFacturacion="Consulta Factura",this.habilitarFormulario=!0,this.formularioFacturacion.disable(),this.codFacturaselecte=p.fa_codFact,console.log("ff",p),this.habilitarIcono=!1,this.botonEditar=!1,this.chekpagada=!1,this.fentrega=p.fa_envio||"",this.DatosSeleccionado=p,this.ftipoPago=String(p.fa_codfpago??1),document.querySelectorAll(".seccion-productos input").forEach(F=>{F.disabled=!0}),this.totalItbis=0,this.items=[],this.servicioFacturacion.buscarFacturaDetalle(p.fa_codFact).subscribe(F=>{let w=0,Y=0;F.data.forEach(O=>{const G=O.df_canMerc,Q=O.df_preMerc,Z=G*Q,rt=O.df_cosMerc;this.items.push({producto:{in_codmerc:O.df_codMerc,in_desmerc:O.df_desMerc,in_grumerc:"",in_tipoproduct:"",in_canmerc:0,in_caninve:0,in_fecinve:null,in_eximini:0,in_cosmerc:0,in_premerc:0,in_precmin:0,in_ucosto:0,in_porgana:0,in_peso:0,in_longitud:0,in_unidad:0,in_medida:0,in_longitu:0,in_fecmodif:null,in_amacen:0,in_imagen:"",in_status:"",in_itbis:!1,in_minvent:0},cantidad:G,precio:Q,total:Z,fecfactActual:new Date,costo:this.costotxt,fa_codFact:p.fa_codFact,fa_fecFact:p.fa_fecFact,fa_nomClie:p.fa_nomClie,fa_valFact:p.fa_valFact,fa_impresa:null===p.fa_impresa?"N":"S",fa_envio:p.fa_envio,fa_fpago:p.fa_fpago}),w+=rt,this.totalItbis+=.18*Z}),Y=w+this.totalItbis,this.subTotal=w,this.totalItbis=this.totalItbis,this.totalGral=Y,this.factxt=100*(p.fa_valFact-p.fa_cosFact)/p.fa_cosFact,this.actualizarTotales(),console.log(p.fa_valFact),console.log(p.fa_cosFact),this.formularioFacturacion.patchValue({fa_fpago:p.fa_fpago,fa_codfpago:p.fa_codfpago??this.ftipoPago}),this.servicioFpago.obtenerFpagoPorId(String(this.ftipoPago)).subscribe(O=>{const J=O.data?.[0];this.descripcionFormaPago=J?J.fp_descfpago:"Desconocido"})})}formatofecha(p){const C=p.getFullYear(),F=(p.getMonth()+1).toString().padStart(2,"0");return`${p.getDate().toString().padStart(2,"0")}/${F}/${C}`}crearformulariodetFactura(){this.formulariodetFactura=this.fb.group({df_codFact:[""],df_fecFact:[""],df_codMerc:[""],df_desMerc:[""],df_canMerc:[""],df_preMerc:[""],df_valMerc:[""],df_unidad:[""],df_cosMerc:[""],df_codClie:[""],df_status:[""]})}convertToUpperCase(p){const C=p.target,F=C.selectionStart,w=C.selectionEnd;C.value=C.value.toUpperCase(),null!==F&&null!==w&&C.setSelectionRange(F,w)}iniciarEdicion(p,C){this.index_item=p,this.itemToEdit={...C},this.isEditing=!0,this.habilitarCantidad=!0,this.cantidadmerc=C.cantidad,this.preciomerc=C.precio,setTimeout(()=>{const F=document.getElementById("cantidad-"+p);F&&(F.focus(),F.select())},100)}guardarEdicion(p){if(this.index_item===p){const C=this.items[p];if(this.cantidadmerc<=0||this.preciomerc<=0)return void g().fire({icon:"error",title:"Error",text:"La cantidad y el precio deben ser mayores a 0"});C.cantidad=this.cantidadmerc,C.precio=this.preciomerc,C.total=C.cantidad*C.precio,this.actualizarTotales(),this.isEditing=!1,this.itemToEdit=null,this.index_item=-1,this.habilitarCantidad=!1,this.cantidadmerc=0,this.preciomerc=0}}cancelarEdicion(){this.isEditing=!1,this.itemToEdit=null,this.index_item=-1,this.habilitarCantidad=!1,this.cantidadmerc=0,this.preciomerc=0}handleKeyboardEvent(p){"F2"===p.key&&this.limpia(),"F4"===p.key&&this.guardarFacturacion(),"F7"===p.key&&this.buscarProducto(),"F8"===p.key&&this.buscarCliente(),"F9"===p.key&&this.buscarVendedor(),"F10"===p.key&&this.buscarFormaPago()}buscarProducto(){$("#modalbuscarproducto").modal("show")}buscarCliente(){$("#modalbuscarcliente").modal("show")}buscarVendedor(){$("#modalbuscarvendedor").modal("show")}buscarFormaPago(){$("#modalbuscarformapago").modal("show")}actualizarTotales(){this.subTotal=this.items.reduce((p,C)=>p+C.total,0),this.totalItbis=this.items.reduce((p,C)=>p+(C.producto?.in_itbis?.18*C.total:0),0),this.totalGral=this.subTotal+this.totalItbis}guardarFacturacion(){console.log("Guardando facturaci\xf3n...")}buildDGIIRequest(p,C){const F=String(p.fa_ncfFact||"").trim();let w="";F.length>=3&&F.startsWith("E")&&(w=F.substring(1,3));const z=localStorage.getItem("rnc_empresa")||"",Y=localStorage.getItem("nombre_empresa")||"",V=p.fa_fecFact?String(p.fa_fecFact).substring(0,10):(new Date).toISOString().split("T")[0],H={Version:"1.0",RNCEmisor:z.replace(/-/g,""),RazonSocialEmisor:Y,RncComprador:String(p.fa_rncFact||"").trim().replace(/-/g,""),RazonSocialComprador:String(p.fa_nomClie||"").trim(),ENCF:F,TipoeCF:w,FechaEmision:V,MontoTotal:p.fa_valFact,TotalITBIS:p.fa_itbiFact,MontoGravadoTotal:p.fa_subFact,TipoIngresos:"01",TipoPago:String(p.fa_fpago||"1"),RegimenPagos:"0",IndicadorMontoGravado:"1"};return C.forEach((O,J)=>{const G=J+1,Q=O.producto?.in_desmerc||O.df_desMerc||"",Z=Number(O.cantidad||O.df_canMerc||0),rt=Number(O.precio||O.df_preMerc||0),ot=Number(O.total||O.df_valMerc||0),_t=O.df_itbiMerc?Number(O.df_itbiMerc):.18*ot;H[`NumeroLinea[${G}]`]=G,H[`NombreItem[${G}]`]=Q,H[`CantidadItem[${G}]`]=Z.toFixed(2),H[`PrecioUnitarioItem[${G}]`]=rt.toFixed(2),H[`MontoItem[${G}]`]=ot.toFixed(2),H[`MontoITBIS[${G}]`]=_t.toFixed(2),H[`TasaITBIS[${G}]`]=.18,H[`IndicadorFacturacion[${G}]`]="1"}),H}imprimirFactura(){this.formularioFacturacion.get("fa_codFact")?.enable();const p=this.DatosSeleccionado||this.formularioFacturacion.value;let C={};try{C=this.buildDGIIRequest(p,this.items)}catch(w){return console.error("Error construyendo datos DGII",w),void g().fire("Error","Error construyendo datos para DGII","error")}g().fire({title:"Procesando...",text:"Generando comprobante electr\xf3nico...",allowOutsideClick:!1,didOpen:()=>{g().showLoading()}}),this.http.post("https://ecfrecepcion.starsoftdominicana.com/ecf/api/test/api/generate-xml-no-send",C).subscribe(w=>{console.log("Respuesta DGII:",w),g().update({text:"Actualizando datos de factura..."});const z={...w,fa_impresa:this.chekPagado?"S":"P",fa_fpago:this.chekPagado?"P":null};this.servicioFacturacion.actualizarDatosDgii(p.fa_codFact,z).subscribe({next:Y=>{console.log("Datos DGII guardados correctamente",Y),g().close();const V={...p,...w};this.printingService.imprimirFactura80mm(V,this.items),this.limpia()},error:Y=>{console.error("Error guardando datos DGII",Y),g().fire("Error","Se gener\xf3 el comprobante pero fall\xf3 al guardar los datos en el sistema.","warning").then(()=>{const V={...p,...w};this.printingService.imprimirFactura80mm(V,this.items)})}})},w=>{console.error("Error obteniendo datos DGII:",w),g().fire("Error","No se pudo generar el comprobante electr\xf3nico.","error")})}toggleCheckPagado(){this.chekPagado=!this.chekPagado,this.chekPagado?(this.valorPagado=this.formularioFacturacion.get("fa_valFact")?.value||0,this.txtvalPagado=!1,this.actualizarCambio()):(this.valorPagado=0,this.txtvalPagado=!0,this.valCambio=0)}onValorPagadoChange(p){const C=parseFloat(p.target.value);this.valorPagado=isNaN(C)?0:C,this.actualizarCambio()}actualizarCambio(){const p=this.formularioFacturacion.get("fa_valFact")?.value||0;this.valCambio=this.valorPagado-p,this.valCambio<0&&(this.valCambio=0)}selectRow(p){this.selectedRow=p}marcarImpresa(p=!0,C=!0){this.formularioFacturacion.get("fa_codFact")?.enable();var F={fa_codFact:this.formularioFacturacion.get("fa_codFact")?.value,fa_impresa:this.chekPagado?"S":"P",fa_fpago:this.chekPagado?"P":null};this.servicioFacturacion.marcarFacturaComoImpresa(F).subscribe(()=>{C&&g().fire({icon:"success",title:"Guardado",text:"Factura guardada correctamente",timer:1500}),p&&this.limpia()})}buscarFactura(){this.imprimirFactura()}static{this.\u0275fac=function(C){return new(C||k)(t.rXU(d.ok),t.rXU(_._),t.rXU(u.d),t.rXU(e.M),t.rXU(n.f),t.rXU(i.E),t.rXU(r.V),t.rXU(c.U),t.rXU(v),t.rXU(b.Y),t.rXU(y.Qq),t.rXU(N))}}static{this.\u0275cmp=t.VBU({type:k,selectors:[["cobrofact"]],viewQuery:function(C,F){if(1&C&&(t.GBs(B,5),t.GBs(S,5),t.GBs(A,5),t.GBs(P,5),t.GBs(I,5),t.GBs(M,5),t.GBs(D,5)),2&C){let w;t.mGM(w=t.lsd())&&(F.inputCodmerc=w.first),t.mGM(w=t.lsd())&&(F.descripcionInput=w.first),t.mGM(w=t.lsd())&&(F.Tabladetalle=w.first),t.mGM(w=t.lsd())&&(F.contenedorScroll=w.first),t.mGM(w=t.lsd())&&(F.valorPagadoInput=w.first),t.mGM(w=t.lsd())&&(F.buscarcodmercElement=w.first),t.mGM(w=t.lsd())&&(F.filas=w)}},hostBindings:function(C,F){1&C&&t.bIt("keydown",function(z){return F.handleKeyboardEvent(z)},!1,t.tSv)},decls:161,vars:48,consts:[[1,"container-fluid","px-3","py-2","cobro-layout-container"],[1,"row","g-3","content-row"],[1,"col-lg-7","col-panel"],[1,"card","shadow-sm","border-0","card-flex","invoice-list-card"],[1,"card-header","card-header-brand","py-2","d-flex","align-items-center","flex-shrink-0"],[1,"bi","bi-list-ul","me-2"],[1,"card-title","m-0"],[1,"card-body-flex"],[1,"table","table-hover","table-sm","sticky-header","mb-0"],[1,"table-dark"],[1,"ps-3","col-2"],[1,"col-5"],[1,"col-3","text-end"],[1,"col-2","text-center","pe-3"],["class","align-middle cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card","shadow-sm","border-0","payment-panel-card","flex-shrink-0"],[1,"card-header","bg-success","text-white","py-2","d-flex","justify-content-between","align-items-center"],[1,"bi","bi-cash-coin","me-2"],[1,"badge","bg-white","text-success","shadow-sm"],[1,"card-body","bg-light","py-2"],[1,"row","g-2"],[1,"col-md-5","border-end"],[1,"d-flex","align-items-center","mb-2"],[1,"form-check","form-switch","m-0"],["type","checkbox","id","chk1",1,"form-check-input",2,"cursor","pointer",3,"disabled","checked","click"],["for","chk1",1,"form-check-label","fw-bold","ms-2","small",2,"cursor","pointer"],[1,"mb-2"],[1,"input-group","input-group-sm"],[1,"input-group-text","bg-white"],[1,"bi","bi-credit-card"],["name","formapago",1,"form-select",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-0"],[1,"bi","bi-box-seam"],[1,"form-select",3,"ngModel","disabled","ngModelChange"],[1,"col-md-7"],[1,"col-6"],[1,"form-label","text-muted","small","fw-bold","mb-0",2,"font-size","0.7rem"],[1,"input-group-text","bg-white","text-success","fw-bold","border-end-0"],["type","text","readonly","",1,"form-control","bg-white","fw-bold","text-success","text-end","border-start-0",3,"value"],[1,"input-group-text","bg-white","fw-bold","border-end-0"],["type","number","placeholder","0.00",1,"form-control","fw-bold","text-end","border-start-0",3,"ngClass","value","disabled","input"],["valorPagadoInput",""],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center","bg-white","px-2","py-1","rounded","border"],[1,"small","fw-bold","text-muted"],[1,"fw-bold","text-primary"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-sm","btn-outline-secondary","flex-fill",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"btn","btn-sm","btn-primary","flex-fill","fw-bold",3,"disabled","click"],[1,"bi","bi-check-lg","me-1"],[1,"btn","btn-sm","btn-dark","flex-fill",3,"disabled","click"],[1,"bi","bi-printer","me-1"],[1,"col-lg-5","col-panel"],[1,"card","shadow","border-0","card-flex","invoice-detail-card"],[1,"card-header","bg-white","border-bottom","py-2","flex-shrink-0"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-title","m-0","text-dark","fw-bold"],[1,"bi","bi-file-earmark-text","text-danger","me-2"],[1,"text-end"],[1,"badge","bg-light","text-dark","border"],[1,"d-flex","flex-column","flex-grow-1","overflow-hidden"],[1,"p-3","bg-white","border-bottom","flex-shrink-0"],[3,"formGroup"],[1,"invoice-detail-label"],[1,"invoice-detail-value","text-truncate"],[1,"invoice-detail-value","small"],[1,"invoice-detail-value","text-truncate","small"],[1,"items-table-container","bg-light"],[1,"table","table-sm","table-striped","mb-0","small"],[1,"table-light","text-secondary","sticky-header"],[1,"ps-3",2,"width","50%"],[1,"text-center",2,"width","15%"],[1,"text-end","pe-3",2,"width","35%"],[4,"ngFor","ngForOf"],[1,"p-3","bg-white","border-top","flex-shrink-0"],[1,"total-row"],[1,"text-muted","small"],[1,"fw-bold","small"],[1,"fw-bold","text-danger","small"],[1,"total-row","final","text-success"],[1,"fw-bold"],[1,"fw-bolder","fs-5"],[1,"align-middle","cursor-pointer",3,"ngClass","click"],[1,"ps-3"],[1,"fw-bold","text-primary","small"],[1,"d-flex","flex-column"],[1,"fw-semibold","text-truncate","small",2,"max-width","200px"],[1,"d-flex","align-items-center","gap-3","mt-1"],[1,"text-muted",2,"font-size","0.75rem"],[1,"d-flex","align-items-center","gap-2"],["class","badge bg-danger text-white rounded-pill d-flex align-items-center px-2 py-1","style","font-size: 0.65em","title","Estado: Pendiente",4,"ngIf"],["title","Modo de Entrega",3,"ngSwitch"],["class","badge bg-light text-info border border-info rounded-pill d-flex align-items-center px-2 py-1","style","font-size: 0.65em",4,"ngSwitchCase"],["class","badge bg-light text-warning border border-warning rounded-pill d-flex align-items-center px-2 py-1","style","font-size: 0.65em",4,"ngSwitchCase"],["class","badge rounded-pill bg-secondary text-white","style","font-size: 0.65em",4,"ngSwitchDefault"],["title","Forma de Pago",3,"ngSwitch"],["class","badge bg-light text-success border border-success rounded-pill d-flex align-items-center px-2 py-1","style","font-size: 0.65em",4,"ngSwitchCase"],["class","badge bg-light text-danger border border-danger rounded-pill d-flex align-items-center px-2 py-1","style","font-size: 0.65em",4,"ngSwitchCase"],["class","badge bg-light text-primary border border-primary rounded-pill d-flex align-items-center px-2 py-1","style","font-size: 0.65em",4,"ngSwitchCase"],[1,"fw-bold","text-success","small"],[1,"text-center","pe-3"],["title","Seleccionar",1,"btn","btn-sm","btn-outline-primary","py-0","px-1"],[1,"bi","bi-chevron-right","small"],["title","Estado: Pendiente",1,"badge","bg-danger","text-white","rounded-pill","d-flex","align-items-center","px-2","py-1",2,"font-size","0.65em"],[1,"bi","bi-exclamation-circle","me-1"],[1,"badge","bg-light","text-info","border","border-info","rounded-pill","d-flex","align-items-center","px-2","py-1",2,"font-size","0.65em"],[1,"bi","bi-truck","me-1"],[1,"badge","bg-light","text-warning","border","border-warning","rounded-pill","d-flex","align-items-center","px-2","py-1",2,"font-size","0.65em"],[1,"bi","bi-shop","me-1"],[1,"badge","rounded-pill","bg-secondary","text-white",2,"font-size","0.65em"],[1,"badge","bg-light","text-success","border","border-success","rounded-pill","d-flex","align-items-center","px-2","py-1",2,"font-size","0.65em"],[1,"bi","bi-cash-stack","me-1"],[1,"badge","bg-light","text-danger","border","border-danger","rounded-pill","d-flex","align-items-center","px-2","py-1",2,"font-size","0.65em"],[1,"bi","bi-clock-history","me-1"],[1,"badge","bg-light","text-primary","border","border-primary","rounded-pill","d-flex","align-items-center","px-2","py-1",2,"font-size","0.65em"],[1,"bi","bi-bank","me-1"],[1,"bi","bi-arrow-left-right","me-1"],[1,"bi","bi-credit-card-2-front","me-1"],["colspan","4",1,"text-center","py-5","text-muted"],[1,"bi","bi-inbox","fs-4","d-block","mb-2"],[3,"value"],[1,"fw-bold","text-truncate",2,"max-width","150px"],[1,"text-center"],[1,"text-end","pe-3","fw-bold"],["colspan","3",1,"text-center","py-4","text-muted"]],template:function(C,F){if(1&C&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.nrm(5,"i",5),t.j41(6,"h6",6),t.EFF(7,"Facturas Pendientes"),t.k0s()(),t.j41(8,"div",7)(9,"table",8)(10,"thead",9)(11,"tr")(12,"th",10),t.EFF(13,"N\xfamero"),t.k0s(),t.j41(14,"th",11),t.EFF(15,"Cliente / Fecha"),t.k0s(),t.j41(16,"th",12),t.EFF(17,"Valor"),t.k0s(),t.j41(18,"th",13),t.EFF(19,"Acci\xf3n"),t.k0s()()(),t.j41(20,"tbody"),t.DNE(21,ft,30,20,"tr",14),t.DNE(22,mt,4,0,"tr",15),t.k0s()()()(),t.j41(23,"div",16)(24,"div",17)(25,"h6",6),t.nrm(26,"i",18),t.EFF(27,"Gesti\xf3n de Pago"),t.k0s(),t.j41(28,"span",19),t.EFF(29),t.k0s()(),t.j41(30,"div",20)(31,"div",21)(32,"div",22)(33,"div",23)(34,"div",24)(35,"input",25),t.bIt("click",function(){return F.toggleCheckPagado()}),t.k0s(),t.j41(36,"label",26),t.EFF(37,"MARCAR PAGADA"),t.k0s()()(),t.j41(38,"div",27)(39,"div",28)(40,"span",29),t.nrm(41,"i",30),t.k0s(),t.j41(42,"select",31),t.bIt("ngModelChange",function(z){return F.ftipoPago=z}),t.DNE(43,tt,2,2,"option",32),t.k0s()()(),t.j41(44,"div",33)(45,"div",28)(46,"span",29),t.nrm(47,"i",34),t.k0s(),t.j41(48,"select",35),t.bIt("ngModelChange",function(z){return F.fentrega=z}),t.DNE(49,et,2,2,"option",32),t.k0s()()()(),t.j41(50,"div",36)(51,"div",21)(52,"div",37)(53,"label",38),t.EFF(54,"TOTAL"),t.k0s(),t.j41(55,"div",28)(56,"span",39),t.EFF(57,"$"),t.k0s(),t.nrm(58,"input",40),t.nI1(59,"number"),t.k0s()(),t.j41(60,"div",37)(61,"label",38),t.EFF(62,"RECIBIDO"),t.k0s(),t.j41(63,"div",28)(64,"span",41),t.EFF(65,"$"),t.k0s(),t.j41(66,"input",42,43),t.bIt("input",function(z){return F.onValorPagadoChange(z)}),t.k0s()()(),t.j41(68,"div",44)(69,"div",45)(70,"span",46),t.EFF(71,"CAMBIO:"),t.k0s(),t.j41(72,"span",47),t.EFF(73),t.nI1(74,"number"),t.k0s()()()()()(),t.j41(75,"div",48)(76,"button",49),t.bIt("click",function(){return F.limpia()}),t.nrm(77,"i",50),t.EFF(78,"Cancelar "),t.k0s(),t.j41(79,"button",51),t.bIt("click",function(){return F.marcarImpresa()}),t.nrm(80,"i",52),t.EFF(81,"Cobrar "),t.k0s(),t.j41(82,"button",53),t.bIt("click",function(){return F.buscarFactura()}),t.nrm(83,"i",54),t.EFF(84,"Imprimir "),t.k0s()()()()(),t.j41(85,"div",55)(86,"div",56)(87,"div",57)(88,"div",58)(89,"h6",59),t.nrm(90,"i",60),t.EFF(91,"Vista Previa "),t.k0s(),t.j41(92,"div",61)(93,"span",62),t.EFF(94),t.k0s()()()(),t.j41(95,"div",63)(96,"div",64)(97,"form",65)(98,"div",21)(99,"div",44)(100,"label",66),t.EFF(101,"Cliente"),t.k0s(),t.j41(102,"div",67),t.EFF(103),t.k0s()(),t.j41(104,"div",37)(105,"label",66),t.EFF(106,"RNC"),t.k0s(),t.j41(107,"div",68),t.EFF(108),t.k0s()(),t.j41(109,"div",37)(110,"label",66),t.EFF(111,"Tel\xe9fono"),t.k0s(),t.j41(112,"div",68),t.EFF(113),t.k0s()(),t.j41(114,"div",44)(115,"label",66),t.EFF(116,"Direcci\xf3n"),t.k0s(),t.j41(117,"div",69),t.EFF(118),t.k0s()(),t.j41(119,"div",37)(120,"label",66),t.EFF(121,"NCF"),t.k0s(),t.j41(122,"div",68),t.EFF(123),t.k0s()()()()(),t.j41(124,"div",70)(125,"table",71)(126,"thead",72)(127,"tr")(128,"th",73),t.EFF(129,"Descripci\xf3n"),t.k0s(),t.j41(130,"th",74),t.EFF(131,"Cant."),t.k0s(),t.j41(132,"th",75),t.EFF(133,"Total"),t.k0s()()(),t.j41(134,"tbody"),t.DNE(135,it,9,6,"tr",76),t.DNE(136,st,4,0,"tr",15),t.k0s()()(),t.j41(137,"div",77)(138,"div",78)(139,"span",79),t.EFF(140,"Subtotal"),t.k0s(),t.j41(141,"span",80),t.EFF(142),t.nI1(143,"number"),t.k0s()(),t.j41(144,"div",78)(145,"span",79),t.EFF(146,"Descuento"),t.k0s(),t.j41(147,"span",81),t.EFF(148),t.k0s()(),t.j41(149,"div",78)(150,"span",79),t.EFF(151,"ITBIS (18%)"),t.k0s(),t.j41(152,"span",80),t.EFF(153),t.nI1(154,"number"),t.k0s()(),t.j41(155,"div",82)(156,"span",83),t.EFF(157,"TOTAL"),t.k0s(),t.j41(158,"span",84),t.EFF(159),t.nI1(160,"number"),t.k0s()()()()()()()()),2&C){let w,z,Y,V,H,O,J,G,Q,Z;t.R7$(21),t.Y8G("ngForOf",F.facturacionList),t.R7$(1),t.Y8G("ngIf",0===F.facturacionList.length),t.R7$(7),t.SpI("#",(null==(w=F.formularioFacturacion.get("fa_codFact"))?null:w.value)||"---",""),t.R7$(6),t.Y8G("disabled",F.chekpagada)("checked",F.chekPagado),t.R7$(7),t.Y8G("ngModel",F.ftipoPago)("disabled",!F.chekPagado),t.R7$(1),t.Y8G("ngForOf",F.resultadoFpago),t.R7$(5),t.Y8G("ngModel",F.fentrega)("disabled",!F.chekPagado),t.R7$(1),t.Y8G("ngForOf",F.resultadoFentrega),t.R7$(9),t.Y8G("value",t.i5U(59,31,null==(z=F.formularioFacturacion.get("fa_valFact"))?null:z.value,"1.2-2")),t.R7$(8),t.Y8G("ngClass",t.eq3(46,Nt,F.valorPagado<((null==(Y=F.formularioFacturacion.get("fa_valFact"))?null:Y.value)||0)&&F.valorPagado>0))("value",F.valorPagado)("disabled",F.txtvalPagado),t.R7$(7),t.SpI("$",t.i5U(74,34,F.valCambio,"1.2-2"),""),t.R7$(6),t.Y8G("disabled",!F.chekPagado||F.valorPagado<((null==(V=F.formularioFacturacion.get("fa_valFact"))?null:V.value)||0)),t.R7$(3),t.Y8G("disabled",!F.chekPagado&&1!=F.fentrega&&"1"!=F.fentrega&&"Envio"!=F.fentrega),t.R7$(12),t.JRh((null==(H=F.formularioFacturacion.get("fa_codFact"))?null:H.value)||"---"),t.R7$(3),t.Y8G("formGroup",F.formularioFacturacion),t.R7$(6),t.SpI(" ",(null==(O=F.formularioFacturacion.get("fa_nomClie"))?null:O.value)||"---"," "),t.R7$(5),t.SpI(" ",(null==(J=F.formularioFacturacion.get("fa_rncFact"))?null:J.value)||"---"," "),t.R7$(5),t.SpI(" ",(null==(G=F.formularioFacturacion.get("fa_telClie"))?null:G.value)||"---"," "),t.R7$(5),t.SpI(" ",(null==(Q=F.formularioFacturacion.get("fa_dirClie"))?null:Q.value)||"---"," "),t.R7$(5),t.SpI(" ",(null==(Z=F.formularioFacturacion.get("fa_ncfFact"))?null:Z.value)||"---"," "),t.R7$(12),t.Y8G("ngForOf",F.items),t.R7$(1),t.Y8G("ngIf",0===F.items.length),t.R7$(6),t.SpI("$",t.i5U(143,37,F.subTotal,"1.2-2"),""),t.R7$(6),t.SpI("-$",F.descuentotxt||"0.00",""),t.R7$(5),t.SpI("$",t.i5U(154,40,F.totalItbis,"1.2-2"),""),t.R7$(6),t.SpI("$",t.i5U(160,43,F.totalGral,"1.2-2"),"")}},dependencies:[s.YU,s.Sq,s.bT,s.ux,s.e1,s.fG,d.qT,d.xH,d.y7,d.wz,d.BC,d.cb,d.j4,d.vS,s.QX],styles:[".sticky-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#343a40;color:#fff;z-index:10}.selected-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#f0b27a!important;color:#000}.input-destacado[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545!important;box-shadow:0 0 0 .15rem #dc354540}","\n\n  .cobro-layout-container[_ngcontent-%COMP%] {\n    height: calc(100vh - 7rem); \n\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .content-row[_ngcontent-%COMP%] {\n    flex: 1;\n    min-height: 0; \n\n  }\n\n  .col-panel[_ngcontent-%COMP%] {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  \n\n  .card-flex[_ngcontent-%COMP%] {\n    display: flex;\n    flex-direction: column;\n    overflow: hidden; \n\n  }\n\n  .card-body-flex[_ngcontent-%COMP%] {\n    flex: 1;\n    min-height: 0;\n    overflow-y: auto;\n    padding: 0;\n  }\n\n  \n\n  .invoice-list-card[_ngcontent-%COMP%] {\n    flex: 1; \n\n    min-height: 200px;\n  }\n\n  .payment-panel-card[_ngcontent-%COMP%] {\n    flex: 0 0 auto; \n\n  }\n\n  \n\n  .invoice-detail-card[_ngcontent-%COMP%] {\n    height: 100%;\n  }\n\n  .items-table-container[_ngcontent-%COMP%] {\n    flex: 1;\n    overflow-y: auto;\n    min-height: 0;\n  }\n\n  \n\n  .sticky-header[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n    position: sticky;\n    top: 0;\n    z-index: 5;\n    background-color: #212529;\n    color: #fff;\n  }\n  .table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\n    background-color: rgba(13, 110, 253, 0.06);\n  }\n  .card-header-brand[_ngcontent-%COMP%] {\n    background: linear-gradient(135deg, #ec0404, #0d6efd);\n    color: #fff;\n  }\n  .cursor-pointer[_ngcontent-%COMP%] { cursor: pointer; }\n\n  .invoice-detail-label[_ngcontent-%COMP%] {\n    font-size: 0.7rem;\n    text-transform: uppercase;\n    color: #6c757d;\n    font-weight: 600;\n  }\n  .invoice-detail-value[_ngcontent-%COMP%] {\n    font-weight: 500;\n    color: #212529;\n    font-size: 0.9rem;\n  }\n\n  .total-row[_ngcontent-%COMP%] {\n    display: flex; justify-content: space-between; align-items: center; padding: 2px 0;\n  }\n  .total-row.final[_ngcontent-%COMP%] {\n    border-top: 1px solid #dee2e6; margin-top: 4px; padding-top: 4px; font-size: 1.1rem;\n  }"]})}}return k})()}];let jt=(()=>{class k{static{this.\u0275fac=function(C){return new(C||k)}}static{this.\u0275mod=t.$C({type:k})}static{this.\u0275inj=t.G2t({imports:[a.iI.forChild(Lt),a.iI]})}}return k})(),Gt=(()=>{class k{static{this.\u0275fac=function(C){return new(C||k)}}static{this.\u0275mod=t.$C({type:k})}static{this.\u0275inj=t.G2t({imports:[s.MD,jt,d.X1,d.YN]})}}return k})()},243:R=>{"use strict";var o={single_source_shortest_paths:function(f,d,s){var a={},l={};l[d]=0;var g,t,_,u,e,i,h=o.PriorityQueue.make();for(h.push(d,0);!h.empty();)for(_ in u=(g=h.pop()).cost,e=f[t=g.value]||{})e.hasOwnProperty(_)&&(i=u+e[_],(typeof l[_]>"u"||l[_]>i)&&(l[_]=i,h.push(_,i),a[_]=t));if(typeof s<"u"&&typeof l[s]>"u"){var m=["Could not find a path from ",d," to ",s,"."].join("");throw new Error(m)}return a},extract_shortest_path_from_predecessor_list:function(f,d){for(var s=[],a=d;a;)s.push(a),a=f[a];return s.reverse(),s},find_path:function(f,d,s){var a=o.single_source_shortest_paths(f,d,s);return o.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(f){var a,d=o.PriorityQueue,s={};for(a in f=f||{},d)d.hasOwnProperty(a)&&(s[a]=d[a]);return s.queue=[],s.sorter=f.sorter||d.default_sorter,s},default_sorter:function(f,d){return f.cost-d.cost},push:function(f,d){this.queue.push({value:f,cost:d}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};R.exports=o},1874:(R,o,f)=>{"use strict";var s=y(f(3209)),l=y(f(3931)),g=y(f(9246)),_=y(f(8084)),e=y(f(2042)),i=y(f(1951)),c=y(f(650)),m=f(1498),b=y(f(5482));function y(S){return S&&S.__esModule?S:{default:S}}var E=function(){},T=function(A,P,I){var M=new E;if(typeof A>"u")throw Error("No element to render on was provided.");return M._renderProperties=(0,e.default)(A),M._encodings=[],M._options=b.default,M._errorHandler=new c.default(M),typeof P<"u"&&((I=I||{}).format||(I.format=N()),M.options(I)[I.format](P,I).render()),M};for(var j in T.getModule=function(S){return s.default[S]},s.default)s.default.hasOwnProperty(j)&&U(s.default,j);function U(S,A){E.prototype[A]=E.prototype[A.toUpperCase()]=E.prototype[A.toLowerCase()]=function(P,I){var M=this;return M._errorHandler.wrapBarcodeCall(function(){I.text=typeof I.text>"u"?void 0:""+I.text;var D=(0,l.default)(M._options,I);D=(0,i.default)(D);var nt=x(P,S[A],D);return M._encodings.push(nt),M})}}function x(S,A,P){var I=new A(S=""+S,P);if(!I.valid())throw new m.InvalidInputException(I.constructor.name,S);var M=I.encode();M=(0,g.default)(M);for(var D=0;D<M.length;D++)M[D].options=(0,l.default)(P,M[D].options);return M}function N(){return s.default.CODE128?"CODE128":Object.keys(s.default)[0]}function B(S,A,P){A=(0,g.default)(A);for(var I=0;I<A.length;I++)A[I].options=(0,l.default)(P,A[I].options),(0,_.default)(A[I].options);(0,_.default)(P),new(0,S.renderer)(S.element,A,P).render(),S.afterRender&&S.afterRender()}E.prototype.options=function(S){return this._options=(0,l.default)(this._options,S),this},E.prototype.blank=function(S){var A=new Array(S+1).join("0");return this._encodings.push({data:A}),this},E.prototype.init=function(){var S;if(this._renderProperties)for(var A in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var P=(0,l.default)(this._options,(S=this._renderProperties[A]).options);"auto"==P.format&&(P.format=N()),this._errorHandler.wrapBarcodeCall(function(){var D=x(P.value,s.default[P.format.toUpperCase()],P);B(S,D,P)})}},E.prototype.render=function(){if(!this._renderProperties)throw new m.NoElementException;if(Array.isArray(this._renderProperties))for(var S=0;S<this._renderProperties.length;S++)B(this._renderProperties[S],this._encodings,this._options);else B(this._renderProperties,this._encodings,this._options);return this},E.prototype._defaults=b.default,typeof window<"u"&&(window.JsBarcode=T),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(S,A){var P=[];return jQuery(this).each(function(){P.push(this)}),T(P,S,A)}),R.exports=T},2933:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function s(a,l){(function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,s),this.data=a,this.text=l.text||a,this.options=l}},3166:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),a=function h(e){return e&&e.__esModule?e:{default:e}}(f(2933)),l=f(9973),u=function(e){function n(i,r){!function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var c=function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i.substring(1),r));return c.bytes=i.split("").map(function(m){return m.charCodeAt(0)}),c}return function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,c=r.shift()-105,m=l.SET_BY_CODE[c];if(void 0===m)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&r.unshift(l.FNC1);var v=n.next(r,1,m);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:n.getBar(c)+v.result+n.getBar((v.checksum+c)%l.MODULO)+n.getBar(l.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return"string"==typeof r&&(r="true"===r.toLowerCase()),r}}],[{key:"getBar",value:function(r){return l.BARS[r]?l.BARS[r].toString():""}},{key:"correctIndex",value:function(r,c){if(c===l.SET_A){var m=r.shift();return m<32?m+64:m-32}return c===l.SET_B?r.shift()-32:10*(r.shift()-48)+r.shift()-48}},{key:"next",value:function(r,c,m){if(!r.length)return{result:"",checksum:0};var v=void 0,b=void 0;if(r[0]>=200){b=r.shift()-105;var y=l.SWAP[b];void 0!==y?v=n.next(r,c+1,y):((m===l.SET_A||m===l.SET_B)&&b===l.SHIFT&&(r[0]=m===l.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),v=n.next(r,c+1,m))}else b=n.correctIndex(r,m),v=n.next(r,c+1,m);return{result:n.getBar(b)+v.result,checksum:b*c+v.checksum}}}]),n}(a.default);o.default=u},4675:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),a=function h(e){return e&&e.__esModule?e:{default:e}}(f(3166)),l=f(9973),u=function(e){function n(i,r){return function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,l.A_START_CHAR+i,r))}return function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"valid",value:function(){return new RegExp("^"+l.A_CHARS+"+$").test(this.data)}}]),n}(a.default);o.default=u},4502:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),a=function h(e){return e&&e.__esModule?e:{default:e}}(f(3166)),l=f(9973),u=function(e){function n(i,r){return function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,l.B_START_CHAR+i,r))}return function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"valid",value:function(){return new RegExp("^"+l.B_CHARS+"+$").test(this.data)}}]),n}(a.default);o.default=u},2693:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),a=function h(e){return e&&e.__esModule?e:{default:e}}(f(3166)),l=f(9973),u=function(e){function n(i,r){return function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,l.C_START_CHAR+i,r))}return function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"valid",value:function(){return new RegExp("^"+l.C_CHARS+"+$").test(this.data)}}]),n}(a.default);o.default=u},714:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=h(f(3166)),l=h(f(5113));function h(e){return e&&e.__esModule?e:{default:e}}function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}var u=function(e){function n(i,r){if(function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var c=t(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,(0,l.default)(i),r));else c=t(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,r));return t(c)}return function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),n}(s.default);o.default=u},5113:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=f(9973),s=function(_){return _.match(new RegExp("^"+d.A_CHARS+"*"))[0].length},a=function(_){return _.match(new RegExp("^"+d.B_CHARS+"*"))[0].length},l=function(_){return _.match(new RegExp("^"+d.C_CHARS+"*"))[0]};function h(t,_){var u=_?d.A_CHARS:d.B_CHARS,e=t.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(e)return e[1]+String.fromCharCode(204)+g(t.substring(e[1].length));var n=t.match(new RegExp("^"+u+"+"))[0];return n.length===t.length?t:n+String.fromCharCode(_?205:206)+h(t.substring(n.length),!_)}function g(t){var _=l(t),u=_.length;if(u===t.length)return t;t=t.substring(u);var e=s(t)>=a(t);return _+String.fromCharCode(e?206:205)+h(t,e)}o.default=function(t){var _=void 0;if(l(t).length>=2)_=d.C_START_CHAR+g(t);else{var e=s(t)>a(t);_=(e?d.A_START_CHAR:d.B_START_CHAR)+h(t,e)}return _.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(n,i){return String.fromCharCode(203)+i})}},9973:(R,o)=>{"use strict";var f;function d(j,U,x){return U in j?Object.defineProperty(j,U,{value:x,enumerable:!0,configurable:!0,writable:!0}):j[U]=x,j}Object.defineProperty(o,"__esModule",{value:!0});var s=o.SET_A=0,a=o.SET_B=1,l=o.SET_C=2,g=(o.SHIFT=98,o.START_A=103),t=o.START_B=104,_=o.START_C=105;o.MODULO=103,o.STOP=106,o.FNC1=207,o.SET_BY_CODE=(d(f={},g,s),d(f,t,a),d(f,_,l),f),o.SWAP={101:s,100:a,99:l},o.A_START_CHAR=String.fromCharCode(208),o.B_START_CHAR=String.fromCharCode(209),o.C_START_CHAR=String.fromCharCode(210),o.A_CHARS="[\0-_\xc8-\xcf]",o.B_CHARS="[ -\x7f\xc8-\xcf]",o.C_CHARS="(\xcf*[0-9]{2}\xcf*)",o.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},9152:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CODE128C=o.CODE128B=o.CODE128A=o.CODE128=void 0;var s=u(f(714)),l=u(f(4675)),g=u(f(4502)),_=u(f(2693));function u(e){return e&&e.__esModule?e:{default:e}}o.CODE128=s.default,o.CODE128A=l.default,o.CODE128B=g.default,o.CODE128C=_.default},3803:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CODE39=void 0;var d=function(){function v(b,y){for(var E=0;E<y.length;E++){var T=y[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,y,E){return y&&v(b.prototype,y),E&&v(b,E),b}}(),_=function(v){function b(y,E){return function h(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),y=y.toUpperCase(),E.mod43&&(y+=function r(v){return u[v]}(function m(v){for(var b=0,y=0;y<v.length;y++)b+=c(v[y]);return b%=43}(y))),function g(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?v:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,y,E))}return function t(v,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}(b,v),d(b,[{key:"encode",value:function(){for(var E=n("*"),T=0;T<this.data.length;T++)E+=n(this.data[T])+"0";return{data:E+=n("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),b}(function l(v){return v&&v.__esModule?v:{default:v}}(f(2933)).default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],e=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function n(v){return function i(v){return e[v].toString(2)}(c(v))}function c(v){return u.indexOf(v)}o.CODE39=_},5122:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),s=f(226),u=function(e){function n(i,r){return function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,r))}return function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(b){return s.MULTI_SYMBOLS[b]||b}),c=r.map(function(b){return n.getEncoding(b)}).join(""),m=n.checksum(r,20),v=n.checksum(r.concat(m),15);return{text:this.text,data:n.getEncoding("\xff")+c+n.getEncoding(m)+n.getEncoding(v)+n.getEncoding("\xff")+"1"}}}],[{key:"getEncoding",value:function(r){return s.BINARIES[n.symbolValue(r)]}},{key:"getSymbol",value:function(r){return s.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return s.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,c){var m=r.slice().reverse().reduce(function(v,b,y){var E=y%c+1;return v+n.symbolValue(b)*E},0);return n.getSymbol(m%47)}}]),n}(function h(e){return e&&e.__esModule?e:{default:e}}(f(2933)).default);o.default=u},5240:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function u(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&u(e.prototype,n),i&&u(e,i),e}}(),_=function(u){function e(n,i){return function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),d(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(function l(u){return u&&u.__esModule?u:{default:u}}(f(5122)).default);o.default=_},226:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","\xff"],o.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],o.MULTI_SYMBOLS={"\0":["(%)","U"],"\x01":["($)","A"],"\x02":["($)","B"],"\x03":["($)","C"],"\x04":["($)","D"],"\x05":["($)","E"],"\x06":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"\t":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"\x0e":["($)","N"],"\x0f":["($)","O"],"\x10":["($)","P"],"\x11":["($)","Q"],"\x12":["($)","R"],"\x13":["($)","S"],"\x14":["($)","T"],"\x15":["($)","U"],"\x16":["($)","V"],"\x17":["($)","W"],"\x18":["($)","X"],"\x19":["($)","Y"],"\x1a":["($)","Z"],"\x1b":["(%)","A"],"\x1c":["(%)","B"],"\x1d":["(%)","C"],"\x1e":["(%)","D"],"\x1f":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"\x7f":["(%)","T"]}},1327:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CODE93FullASCII=o.CODE93=void 0;var s=h(f(5122)),l=h(f(5240));function h(g){return g&&g.__esModule?g:{default:g}}o.CODE93=s.default,o.CODE93FullASCII=l.default},7331:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function i(r,c){for(var m=0;m<c.length;m++){var v=c[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(r,v.key,v)}}return function(r,c,m){return c&&i(r.prototype,c),m&&i(r,m),r}}(),s=f(2846),l=t(f(2143));function t(i){return i&&i.__esModule?i:{default:i}}var n=function(i){function r(c,m){!function _(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);var v=function u(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,c,m));return v.fontSize=!m.flat&&m.fontSize>10*m.width?10*m.width:m.fontSize,v.guardHeight=m.height+v.fontSize/2+m.textMargin,v}return function e(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),d(r,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(m,v){return this.text.substr(m,v)}},{key:"leftEncode",value:function(m,v){return(0,l.default)(m,v)}},{key:"rightText",value:function(m,v){return this.text.substr(m,v)}},{key:"rightEncode",value:function(m,v){return(0,l.default)(m,v)}},{key:"encodeGuarded",value:function(){var m={fontSize:this.fontSize},v={height:this.guardHeight};return[{data:s.SIDE_BIN,options:v},{data:this.leftEncode(),text:this.leftText(),options:m},{data:s.MIDDLE_BIN,options:v},{data:this.rightEncode(),text:this.rightText(),options:m},{data:s.SIDE_BIN,options:v}]}},{key:"encodeFlat",value:function(){return{data:[s.SIDE_BIN,this.leftEncode(),s.MIDDLE_BIN,this.rightEncode(),s.SIDE_BIN].join(""),text:this.text}}}]),r}(t(f(2933)).default);o.default=n},7779:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function i(r,c){for(var m=0;m<c.length;m++){var v=c[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(r,v.key,v)}}return function(r,c,m){return c&&i(r.prototype,c),m&&i(r,m),r}}(),s=function i(r,c,m){null===r&&(r=Function.prototype);var v=Object.getOwnPropertyDescriptor(r,c);if(void 0===v){var b=Object.getPrototypeOf(r);return null===b?void 0:i(b,c,m)}if("value"in v)return v.value;var y=v.get;return void 0===y?void 0:y.call(m)},a=f(2846),h=function g(i){return i&&i.__esModule?i:{default:i}}(f(7331)),e=function(r){return(10-r.substr(0,12).split("").map(function(m){return+m}).reduce(function(m,v,b){return b%2?m+3*v:m+v},0)%10)%10},n=function(i){function r(c,m){(function t(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,r),-1!==c.search(/^[0-9]{12}$/)&&(c+=e(c));var v=function _(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,c,m));return v.lastChar=m.lastChar,v}return function u(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),d(r,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===e(this.data)}},{key:"leftText",value:function(){return s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var m=this.data.substr(1,6),v=a.EAN13_STRUCTURE[this.data[0]];return s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"leftEncode",this).call(this,m,v)}},{key:"rightText",value:function(){return s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var m=this.data.substr(7,6);return s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rightEncode",this).call(this,m,"RRRRRR")}},{key:"encodeGuarded",value:function(){var m=s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(m.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(m.push({data:"00"}),m.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),m}}]),r}(h.default);o.default=n},197:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function i(r,c){for(var m=0;m<c.length;m++){var v=c[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(r,v.key,v)}}return function(r,c,m){return c&&i(r.prototype,c),m&&i(r,m),r}}(),s=f(2846),l=t(f(2143));function t(i){return i&&i.__esModule?i:{default:i}}var n=function(i){function r(c,m){return function _(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function u(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,c,m))}return function e(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),d(r,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var m=s.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,l.default)(this.data,m,"01"),text:this.text}}}]),r}(t(f(2933)).default);o.default=n},6400:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function r(c,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,m,v){return m&&r(c.prototype,m),v&&r(c,v),c}}(),s=f(2846),l=t(f(2143));function t(r){return r&&r.__esModule?r:{default:r}}var i=function(r){function c(m,v){return function _(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c),function u(r,c){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?r:c}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,m,v))}return function e(r,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);r.prototype=Object.create(c&&c.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(r,c):r.__proto__=c)}(c,r),d(c,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var v=s.EAN5_STRUCTURE[function(c){return c.split("").map(function(v){return+v}).reduce(function(v,b,y){return y%2?v+9*b:v+3*b},0)%10}(this.data)];return{data:"1011"+(0,l.default)(this.data,v,"01"),text:this.text}}}]),c}(t(f(2933)).default);o.default=i},2587:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function n(i,r){for(var c=0;c<r.length;c++){var m=r[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(i,m.key,m)}}return function(i,r,c){return r&&n(i.prototype,r),c&&n(i,c),i}}(),s=function n(i,r,c){null===i&&(i=Function.prototype);var m=Object.getOwnPropertyDescriptor(i,r);if(void 0===m){var v=Object.getPrototypeOf(i);return null===v?void 0:n(v,r,c)}if("value"in m)return m.value;var b=m.get;return void 0===b?void 0:b.call(c)},l=function h(n){return n&&n.__esModule?n:{default:n}}(f(7331)),u=function(i){return(10-i.substr(0,7).split("").map(function(c){return+c}).reduce(function(c,m,v){return v%2?c+m:c+3*m},0)%10)%10},e=function(n){function i(r,c){return function g(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),-1!==r.search(/^[0-9]{7}$/)&&(r+=u(r)),function t(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r,c))}return function _(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),d(i,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var c=this.data.substr(0,4);return s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftEncode",this).call(this,c,"LLLL")}},{key:"rightText",value:function(){return s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var c=this.data.substr(4,4);return s(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightEncode",this).call(this,c,"RRRR")}}]),i}(l.default);o.default=e},1541:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function i(r,c){for(var m=0;m<c.length;m++){var v=c[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(r,v.key,v)}}return function(r,c,m){return c&&i(r.prototype,c),m&&i(r,m),r}}();o.checksum=n;var a=g(f(2143));function g(i){return i&&i.__esModule?i:{default:i}}var e=function(i){function r(c,m){(function t(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,r),-1!==c.search(/^[0-9]{11}$/)&&(c+=n(c));var v=function _(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,c,m));return v.displayValue=m.displayValue,v.fontSize=m.fontSize>10*m.width?10*m.width:m.fontSize,v.guardHeight=m.height+v.fontSize/2+m.textMargin,v}return function u(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),d(r,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==n(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var m="";return m+="101",m+=(0,a.default)(this.data.substr(0,6),"LLLLLL"),m+="01010",m+=(0,a.default)(this.data.substr(6,6),"RRRRRR"),{data:m+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var m=[];return this.displayValue&&m.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),m.push({data:"101"+(0,a.default)(this.data[0],"L"),options:{height:this.guardHeight}}),m.push({data:(0,a.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),m.push({data:"01010",options:{height:this.guardHeight}}),m.push({data:(0,a.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),m.push({data:(0,a.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&m.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),m}}]),r}(g(f(2933)).default);function n(i){var c,r=0;for(c=1;c<11;c+=2)r+=parseInt(i[c]);for(c=0;c<11;c+=2)r+=3*parseInt(i[c]);return(10-r%10)%10}o.default=e},7638:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function m(v,b){for(var y=0;y<b.length;y++){var E=b[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,y){return b&&m(v.prototype,b),y&&m(v,y),v}}(),a=t(f(2143)),h=t(f(2933)),g=f(1541);function t(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}var n=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],i=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],r=function(m){function v(b,y){!function _(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var E=u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b,y));if(E.isValid=!1,-1!==b.search(/^[0-9]{6}$/))E.middleDigits=b,E.upcA=c(b,"0"),E.text=y.text||""+E.upcA[0]+b+E.upcA[E.upcA.length-1],E.isValid=!0;else{if(-1===b.search(/^[01][0-9]{7}$/))return u(E);if(E.middleDigits=b.substring(1,b.length-1),E.upcA=c(E.middleDigits,b[0]),E.upcA[E.upcA.length-1]!==b[b.length-1])return u(E);E.isValid=!0}return E.displayValue=y.displayValue,E.fontSize=y.fontSize>10*y.width?10*y.width:y.fontSize,E.guardHeight=y.height+E.fontSize/2+y.textMargin,E}return function e(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),d(v,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=this.encodeMiddleDigits(),{data:y+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101",options:{height:this.guardHeight}}),y.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),y.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),y}},{key:"encodeMiddleDigits",value:function(){var y=this.upcA[0],T=i[parseInt(this.upcA[this.upcA.length-1])][parseInt(y)];return(0,a.default)(this.middleDigits,T)}}]),v}(h.default);function c(m,v){for(var b=parseInt(m[m.length-1]),y=n[b],E="",T=0,j=0;j<y.length;j++){var U=y[j];E+="X"===U?m[T++]:U}return(E=""+v+E)+(0,g.checksum)(E)}o.default=r},2846:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SIDE_BIN="101",o.MIDDLE_BIN="01010",o.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},o.EAN2_STRUCTURE=["LL","LG","GL","GG"],o.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],o.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2143:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=f(2846);o.default=function(l,h,g){var t=l.split("").map(function(u,e){return d.BINARIES[h[e]]}).map(function(u,e){return u?u[l[e]]:""});if(g){var _=l.length-1;t=t.map(function(u,e){return e<_?u+g:u})}return t.join("")}},9995:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.UPCE=o.UPC=o.EAN2=o.EAN5=o.EAN8=o.EAN13=void 0;var s=r(f(7779)),l=r(f(2587)),g=r(f(6400)),_=r(f(197)),e=r(f(1541)),i=r(f(7638));function r(c){return c&&c.__esModule?c:{default:c}}o.EAN13=s.default,o.EAN8=l.default,o.EAN5=g.default,o.EAN2=_.default,o.UPC=e.default,o.UPCE=i.default},9257:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GenericBarcode=void 0;var d=function(){function u(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&u(e.prototype,n),i&&u(e,i),e}}(),_=function(u){function e(n,i){return function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),d(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(function l(u){return u&&u.__esModule?u:{default:u}}(f(2933)).default);o.GenericBarcode=_},3534:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),s=f(2218),u=function(e){function n(){return function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function _(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var r=this,c=this.data.match(/.{2}/g).map(function(m){return r.encodePair(m)}).join("");return{data:s.START_BIN+c+s.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var c=s.BINARIES[r[1]];return s.BINARIES[r[0]].split("").map(function(m,v){return("1"===m?"111":"1")+("1"===c[v]?"000":"0")}).join("")}}]),n}(function h(e){return e&&e.__esModule?e:{default:e}}(f(2933)).default);o.default=u},6023:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),a=function l(e){return e&&e.__esModule?e:{default:e}}(f(3534)),_=function(n){var i=n.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,c,m){return r+c*(3-m%2*2)},0);return 10*Math.ceil(i/10)-i},u=function(e){function n(i,r){return function h(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),-1!==i.search(/^[0-9]{13}$/)&&(i+=_(i)),function g(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,r))}return function t(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===_(this.data)}}]),n}(a.default);o.default=u},2218:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.START_BIN="1010",o.END_BIN="11101",o.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},9319:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ITF14=o.ITF=void 0;var s=h(f(3534)),l=h(f(6023));function h(g){return g&&g.__esModule?g:{default:g}}o.ITF=s.default,o.ITF14=l.default},8778:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,i){for(var r=0;r<i.length;r++){var c=i[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,i,r){return i&&e(n.prototype,i),r&&e(n,r),n}}(),_=function(e){function n(i,r){return function h(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function g(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,r))}return function t(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(n,e),d(n,[{key:"encode",value:function(){for(var r="110",c=0;c<this.data.length;c++){var v=parseInt(this.data[c]).toString(2);v=u(v,4-v.length);for(var b=0;b<v.length;b++)r+="0"==v[b]?"100":"110"}return{data:r+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),n}(function l(e){return e&&e.__esModule?e:{default:e}}(f(2933)).default);function u(e,n){for(var i=0;i<n;i++)e="0"+e;return e}o.default=_},3167:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function l(u){return u&&u.__esModule?u:{default:u}}(f(8778)),a=f(2821),_=function(u){function e(n,i){return function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,a.mod10)(n),i))}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),e}(s.default);o.default=_},1522:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function l(u){return u&&u.__esModule?u:{default:u}}(f(8778)),a=f(2821),_=function(u){function e(n,i){return function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n+=(0,a.mod10)(n),n+=(0,a.mod10)(n),function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),e}(s.default);o.default=_},8552:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function l(u){return u&&u.__esModule?u:{default:u}}(f(8778)),a=f(2821),_=function(u){function e(n,i){return function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,a.mod11)(n),i))}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),e}(s.default);o.default=_},677:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=function l(u){return u&&u.__esModule?u:{default:u}}(f(8778)),a=f(2821),_=function(u){function e(n,i){return function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n+=(0,a.mod11)(n),n+=(0,a.mod10)(n),function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i))}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),e}(s.default);o.default=_},2821:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.mod10=function f(s){for(var a=0,l=0;l<s.length;l++){var h=parseInt(s[l]);a+=(l+s.length)%2==0?h:2*h%10+Math.floor(2*h/10)}return(10-a%10)%10},o.mod11=function d(s){for(var a=0,l=[2,3,4,5,6,7],h=0;h<s.length;h++){var g=parseInt(s[s.length-1-h]);a+=l[h%l.length]*g}return(11-a%11)%11}},3641:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MSI1110=o.MSI1010=o.MSI11=o.MSI10=o.MSI=void 0;var s=n(f(8778)),l=n(f(3167)),g=n(f(8552)),_=n(f(1522)),e=n(f(677));function n(i){return i&&i.__esModule?i:{default:i}}o.MSI=s.default,o.MSI10=l.default,o.MSI11=g.default,o.MSI1010=_.default,o.MSI1110=e.default},9468:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.codabar=void 0;var d=function(){function u(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&u(e.prototype,n),i&&u(e,i),e}}(),_=function(u){function e(n,i){(function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),0===n.search(/^[0-9\-\$\:\.\+\/]+$/)&&(n="A"+n+"A");var r=function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),i));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),d(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var i=[],r=this.getEncodings(),c=0;c<this.data.length;c++)i.push(r[this.data.charAt(c)]),c!==this.data.length-1&&i.push("0");return{text:this.text,data:i.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(function l(u){return u&&u.__esModule?u:{default:u}}(f(2933)).default);o.codabar=_},3209:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=f(3803),s=f(9152),a=f(9995),l=f(9319),h=f(3641),g=f(4322),t=f(9468),_=f(1327),u=f(9257);o.default={CODE39:d.CODE39,CODE128:s.CODE128,CODE128A:s.CODE128A,CODE128B:s.CODE128B,CODE128C:s.CODE128C,EAN13:a.EAN13,EAN8:a.EAN8,EAN5:a.EAN5,EAN2:a.EAN2,UPC:a.UPC,UPCE:a.UPCE,ITF14:l.ITF14,ITF:l.ITF,MSI:h.MSI,MSI10:h.MSI10,MSI11:h.MSI11,MSI1010:h.MSI1010,MSI1110:h.MSI1110,pharmacode:g.pharmacode,codabar:t.codabar,CODE93:_.CODE93,CODE93FullASCII:_.CODE93FullASCII,GenericBarcode:u.GenericBarcode}},4322:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.pharmacode=void 0;var d=function(){function u(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&u(e.prototype,n),i&&u(e,i),e}}(),_=function(u){function e(n,i){!function h(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function g(u,e){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?u:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));return r.number=parseInt(n,10),r}return function t(u,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(u,e):u.__proto__=e)}(e,u),d(e,[{key:"encode",value:function(){for(var i=this.number,r="";!isNaN(i)&&0!=i;)i%2==0?(r="11100"+r,i=(i-2)/2):(r="100"+r,i=(i-1)/2);return{data:r=r.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(function l(u){return u&&u.__esModule?u:{default:u}}(f(2933)).default);o.pharmacode=_},650:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var f=function(){function a(l,h){for(var g=0;g<h.length;g++){var t=h[g];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,h,g){return h&&a(l.prototype,h),g&&a(l,g),l}}(),s=function(){function a(l){(function d(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=l}return f(a,[{key:"handleCatch",value:function(h){if("InvalidInputException"!==h.name)throw h;if(this.api._options.valid===this.api._defaults.valid)throw h.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(h){try{var g=h.apply(void 0,arguments);return this.api._options.valid(!0),g}catch(t){return this.handleCatch(t),this.api}}}]),a}();o.default=s},1498:(R,o)=>{"use strict";function f(g,t){if(!(g instanceof t))throw new TypeError("Cannot call a class as a function")}function d(g,t){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?g:t}function s(g,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);g.prototype=Object.create(t&&t.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(g,t):g.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var a=function(g){function t(_,u){f(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="InvalidInputException",e.symbology=_,e.input=u,e.message='"'+e.input+'" is not a valid input for '+e.symbology,e}return s(t,Error),t}(),l=function(g){function t(){f(this,t);var _=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return _.name="InvalidElementException",_.message="Not supported type to render on",_}return s(t,Error),t}(),h=function(g){function t(){f(this,t);var _=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return _.name="NoElementException",_.message="No element to render on.",_}return s(t,Error),t}();o.InvalidInputException=a,o.InvalidElementException=l,o.NoElementException=h},8084:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function f(d){return d.marginTop=d.marginTop||d.margin,d.marginBottom=d.marginBottom||d.margin,d.marginRight=d.marginRight||d.margin,d.marginLeft=d.marginLeft||d.margin,d}},329:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=h(f(1951)),l=h(f(5482));function h(t){return t&&t.__esModule?t:{default:t}}o.default=function g(t){var _={};for(var u in l.default)l.default.hasOwnProperty(u)&&(t.hasAttribute("jsbarcode-"+u.toLowerCase())&&(_[u]=t.getAttribute("jsbarcode-"+u.toLowerCase())),t.hasAttribute("data-"+u.toLowerCase())&&(_[u]=t.getAttribute("data-"+u.toLowerCase())));return _.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),(0,s.default)(_)}},2042:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a=t(f(329)),h=t(f(2368)),g=f(1498);function t(n){return n&&n.__esModule?n:{default:n}}o.default=function _(n){if("string"==typeof n)return function u(n){var i=document.querySelectorAll(n);if(0!==i.length){for(var r=[],c=0;c<i.length;c++)r.push(_(i[c]));return r}}(n);if(Array.isArray(n)){for(var i=[],r=0;r<n.length;r++)i.push(_(n[r]));return i}if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLImageElement)return function e(n){var i=document.createElement("canvas");return{element:i,options:(0,a.default)(n),renderer:h.default.CanvasRenderer,afterRender:function(){n.setAttribute("src",i.toDataURL())}}}(n);if(n&&n.nodeName&&"svg"===n.nodeName.toLowerCase()||typeof SVGElement<"u"&&n instanceof SVGElement)return{element:n,options:(0,a.default)(n),renderer:h.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement)return{element:n,options:(0,a.default)(n),renderer:h.default.CanvasRenderer};if(n&&n.getContext)return{element:n,renderer:h.default.CanvasRenderer};if(n&&"object"===(typeof n>"u"?"undefined":d(n))&&!n.nodeName)return{element:n,renderer:h.default.ObjectRenderer};throw new g.InvalidElementException}},9246:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function f(d){var s=[];return function a(l){if(Array.isArray(l))for(var h=0;h<l.length;h++)a(l[h]);else l.text=l.text||"",l.data=l.data||"",s.push(l)}(d),s}},3931:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var f=Object.assign||function(d){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(d[l]=a[l])}return d};o.default=function(d,s){return f({},d,s)}},1951:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function f(d){var s=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var a in s)s.hasOwnProperty(a)&&"string"==typeof d[a=s[a]]&&(d[a]=parseInt(d[a],10));return"string"==typeof d.displayValue&&(d.displayValue="false"!=d.displayValue),d}},5482:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8682:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function _(u,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,i.key,i)}}return function(u,e,n){return e&&_(u.prototype,e),n&&_(u,n),u}}(),a=function h(_){return _&&_.__esModule?_:{default:_}}(f(3931)),l=f(2283),t=function(){function _(u,e,n){(function g(_,u){if(!(_ instanceof u))throw new TypeError("Cannot call a class as a function")})(this,_),this.canvas=u,this.encodings=e,this.options=n}return d(_,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var n=(0,a.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(n,this.encodings[e]),this.drawCanvasText(n,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,l.calculateEncodingAttributes)(this.encodings,this.options,e);var n=(0,l.getTotalWidthOfEncodings)(this.encodings),i=(0,l.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,n){var c,i=this.canvas.getContext("2d"),r=n.data;c="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,i.fillStyle=e.lineColor;for(var m=0;m<r.length;m++){var v=m*e.width+n.barcodePadding;"1"===r[m]?i.fillRect(v,c,e.width,e.height):r[m]&&i.fillRect(v,c,e.width,e.height*r[m])}}},{key:"drawCanvasText",value:function(e,n){var c,m,i=this.canvas.getContext("2d");e.displayValue&&(m="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,i.font=e.fontOptions+" "+e.fontSize+"px "+e.font,"left"==e.textAlign||n.barcodePadding>0?(c=0,i.textAlign="left"):"right"==e.textAlign?(c=n.width-1,i.textAlign="right"):(c=n.width/2,i.textAlign="center"),i.fillText(n.text,c,m))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),_}();o.default=t},2368:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=t(f(8682)),l=t(f(1538)),g=t(f(1045));function t(_){return _&&_.__esModule?_:{default:_}}o.default={CanvasRenderer:s.default,SVGRenderer:l.default,ObjectRenderer:g.default}},1045:(R,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var f=function(){function a(l,h){for(var g=0;g<h.length;g++){var t=h[g];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,h,g){return h&&a(l.prototype,h),g&&a(l,g),l}}(),s=function(){function a(l,h,g){(function d(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a),this.object=l,this.encodings=h,this.options=g}return f(a,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),a}();o.default=s},2283:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getTotalWidthOfEncodings=o.calculateEncodingAttributes=o.getBarcodePadding=o.getEncodingHeight=o.getMaximumHeightOfEncodings=void 0;var s=function a(e){return e&&e.__esModule?e:{default:e}}(f(3931));function l(e,n){return n.height+(n.displayValue&&e.text.length>0?n.fontSize+n.textMargin:0)+n.marginTop+n.marginBottom}function h(e,n,i){if(i.displayValue&&n<e){if("center"==i.textAlign)return Math.floor((e-n)/2);if("left"==i.textAlign)return 0;if("right"==i.textAlign)return Math.floor(e-n)}return 0}function u(e,n,i){var r;if(i)r=i;else{if(!(typeof document<"u"))return 0;r=document.createElement("canvas").getContext("2d")}r.font=n.fontOptions+" "+n.fontSize+"px "+n.font;var c=r.measureText(e);return c?c.width:0}o.getMaximumHeightOfEncodings=function _(e){for(var n=0,i=0;i<e.length;i++)e[i].height>n&&(n=e[i].height);return n},o.getEncodingHeight=l,o.getBarcodePadding=h,o.calculateEncodingAttributes=function g(e,n,i){for(var r=0;r<e.length;r++){var v,c=e[r],m=(0,s.default)(n,c.options);v=m.displayValue?u(c.text,m,i):0;var b=c.data.length*m.width;c.width=Math.ceil(Math.max(v,b)),c.height=l(c,m),c.barcodePadding=h(v,b,m)}},o.getTotalWidthOfEncodings=function t(e){for(var n=0,i=0;i<e.length;i++)n+=e[i].width;return n}},1538:(R,o,f)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function u(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&u(e.prototype,n),i&&u(e,i),e}}(),a=function h(u){return u&&u.__esModule?u:{default:u}}(f(3931)),l=f(2283),t="http://www.w3.org/2000/svg",_=function(){function u(e,n,i){(function g(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")})(this,u),this.svg=e,this.encodings=n,this.options=i,this.document=i.xmlDocument||document}return d(u,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var i=0;i<this.encodings.length;i++){var r=this.encodings[i],c=(0,a.default)(this.options,r.options),m=this.createGroup(n,c.marginTop,this.svg);this.setGroupOptions(m,c),this.drawSvgBarcode(m,c,r),this.drawSVGText(m,c,r),n+=r.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,l.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,l.getTotalWidthOfEncodings)(this.encodings),i=(0,l.getMaximumHeightOfEncodings)(this.encodings),r=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(r,i),this.options.background&&this.drawRect(0,0,r,i,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,i,r){var m,c=r.data;m="top"==i.textPosition?i.fontSize+i.textMargin:0;for(var v=0,b=0,y=0;y<c.length;y++)b=y*i.width+r.barcodePadding,"1"===c[y]?v++:v>0&&(this.drawRect(b-i.width*v,m,i.width*v,i.height,n),v=0);v>0&&this.drawRect(b-i.width*(v-1),m,i.width*v,i.height,n)}},{key:"drawSVGText",value:function(n,i,r){var m,v,c=this.document.createElementNS(t,"text");i.displayValue&&(c.setAttribute("style","font:"+i.fontOptions+" "+i.fontSize+"px "+i.font),v="top"==i.textPosition?i.fontSize-i.textMargin:i.height+i.textMargin+i.fontSize,"left"==i.textAlign||r.barcodePadding>0?(m=0,c.setAttribute("text-anchor","start")):"right"==i.textAlign?(m=r.width-1,c.setAttribute("text-anchor","end")):(m=r.width/2,c.setAttribute("text-anchor","middle")),c.setAttribute("x",m),c.setAttribute("y",v),c.appendChild(this.document.createTextNode(r.text)),n.appendChild(c))}},{key:"setSvgAttributes",value:function(n,i){var r=this.svg;r.setAttribute("width",n+"px"),r.setAttribute("height",i+"px"),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("viewBox","0 0 "+n+" "+i),r.setAttribute("xmlns",t),r.setAttribute("version","1.1"),r.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,i,r){var c=this.document.createElementNS(t,"g");return c.setAttribute("transform","translate("+n+", "+i+")"),r.appendChild(c),c}},{key:"setGroupOptions",value:function(n,i){n.setAttribute("style","fill:"+i.lineColor+";")}},{key:"drawRect",value:function(n,i,r,c,m){var v=this.document.createElementNS(t,"rect");return v.setAttribute("x",n),v.setAttribute("y",i),v.setAttribute("width",r),v.setAttribute("height",c),m.appendChild(v),v}}]),u}();o.default=_},8314:(R,o,f)=>{const s=f(2836),a=f(9460),l=f(7030),h=f(6511);function g(t,_,u,e,n){const i=[].slice.call(arguments,1),r=i.length,c="function"==typeof i[r-1];if(!c&&!s())throw new Error("Callback required as last argument");if(!c){if(r<1)throw new Error("Too few arguments provided");return 1===r?(u=_,_=e=void 0):2===r&&!_.getContext&&(e=u,u=_,_=void 0),new Promise(function(m,v){try{const b=a.create(u,e);m(t(b,_,e))}catch(b){v(b)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(n=u,u=_,_=e=void 0):3===r&&(_.getContext&&typeof n>"u"?(n=e,e=void 0):(n=e,e=u,u=_,_=void 0));try{const m=a.create(u,e);n(null,t(m,_,e))}catch(m){n(m)}}g.bind(null,l.render),o.dY=g.bind(null,l.renderToDataURL),g.bind(null,function(t,_,u){return h.render(t,u)})},2836:R=>{R.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(R,o,f)=>{const d=f(9089).getSymbolSize;o.getRowColCoords=function(a){if(1===a)return[];const l=Math.floor(a/7)+2,h=d(a),g=145===h?26:2*Math.ceil((h-13)/(2*l-2)),t=[h-7];for(let _=1;_<l-1;_++)t[_]=t[_-1]-g;return t.push(6),t.reverse()},o.getPositions=function(a){const l=[],h=o.getRowColCoords(a),g=h.length;for(let t=0;t<g;t++)for(let _=0;_<g;_++)0===t&&0===_||0===t&&_===g-1||t===g-1&&0===_||l.push([h[t],h[_]]);return l}},1018:(R,o,f)=>{const d=f(1677),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(l){this.mode=d.ALPHANUMERIC,this.data=l}a.getBitsLength=function(h){return 11*Math.floor(h/2)+h%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(h){let g;for(g=0;g+2<=this.data.length;g+=2){let t=45*s.indexOf(this.data[g]);t+=s.indexOf(this.data[g+1]),h.put(t,11)}this.data.length%2&&h.put(s.indexOf(this.data[g]),6)},R.exports=a},4662:R=>{function o(){this.buffer=[],this.length=0}o.prototype={get:function(f){const d=Math.floor(f/8);return 1==(this.buffer[d]>>>7-f%8&1)},put:function(f,d){for(let s=0;s<d;s++)this.putBit(1==(f>>>d-s-1&1))},getLengthInBits:function(){return this.length},putBit:function(f){const d=Math.floor(this.length/8);this.buffer.length<=d&&this.buffer.push(0),f&&(this.buffer[d]|=128>>>this.length%8),this.length++}},R.exports=o},5941:R=>{function o(f){if(!f||f<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=f,this.data=new Uint8Array(f*f),this.reservedBit=new Uint8Array(f*f)}o.prototype.set=function(f,d,s,a){const l=f*this.size+d;this.data[l]=s,a&&(this.reservedBit[l]=!0)},o.prototype.get=function(f,d){return this.data[f*this.size+d]},o.prototype.xor=function(f,d,s){this.data[f*this.size+d]^=s},o.prototype.isReserved=function(f,d){return this.reservedBit[f*this.size+d]},R.exports=o},4969:(R,o,f)=>{const d=f(1677);function s(a){this.mode=d.BYTE,this.data="string"==typeof a?(new TextEncoder).encode(a):new Uint8Array(a)}s.getBitsLength=function(l){return 8*l},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(a){for(let l=0,h=this.data.length;l<h;l++)a.put(this.data[l],8)},R.exports=s},3677:(R,o,f)=>{const d=f(7424),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];o.getBlocksCount=function(h,g){switch(g){case d.L:return s[4*(h-1)+0];case d.M:return s[4*(h-1)+1];case d.Q:return s[4*(h-1)+2];case d.H:return s[4*(h-1)+3];default:return}},o.getTotalCodewordsCount=function(h,g){switch(g){case d.L:return a[4*(h-1)+0];case d.M:return a[4*(h-1)+1];case d.Q:return a[4*(h-1)+2];case d.H:return a[4*(h-1)+3];default:return}}},7424:(R,o)=>{o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2},o.isValid=function(s){return s&&typeof s.bit<"u"&&s.bit>=0&&s.bit<4},o.from=function(s,a){if(o.isValid(s))return s;try{return function f(d){if("string"!=typeof d)throw new Error("Param is not a string");switch(d.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+d)}}(s)}catch{return a}}},8650:(R,o,f)=>{const d=f(9089).getSymbolSize;o.getPositions=function(l){const h=d(l);return[[0,0],[h-7,0],[0,h-7]]}},6254:(R,o,f)=>{const d=f(9089),l=d.getBCHDigit(1335);o.getEncodedBits=function(g,t){const _=g.bit<<3|t;let u=_<<10;for(;d.getBCHDigit(u)-l>=0;)u^=1335<<d.getBCHDigit(u)-l;return 21522^(_<<10|u)}},6686:(R,o)=>{const f=new Uint8Array(512),d=new Uint8Array(256);(function(){let a=1;for(let l=0;l<255;l++)f[l]=a,d[a]=l,a<<=1,256&a&&(a^=285);for(let l=255;l<512;l++)f[l]=f[l-255]})(),o.log=function(a){if(a<1)throw new Error("log("+a+")");return d[a]},o.exp=function(a){return f[a]},o.mul=function(a,l){return 0===a||0===l?0:f[d[a]+d[l]]}},3264:(R,o,f)=>{const d=f(1677),s=f(9089);function a(l){this.mode=d.KANJI,this.data=l}a.getBitsLength=function(h){return 13*h},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){let h;for(h=0;h<this.data.length;h++){let g=s.toSJIS(this.data[h]);if(g>=33088&&g<=40956)g-=33088;else{if(!(g>=57408&&g<=60351))throw new Error("Invalid SJIS character: "+this.data[h]+"\nMake sure your charset is UTF-8");g-=49472}g=192*(g>>>8&255)+(255&g),l.put(g,13)}},R.exports=a},3361:(R,o)=>{o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function d(s,a,l){switch(s){case o.Patterns.PATTERN000:return(a+l)%2==0;case o.Patterns.PATTERN001:return a%2==0;case o.Patterns.PATTERN010:return l%3==0;case o.Patterns.PATTERN011:return(a+l)%3==0;case o.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2==0;case o.Patterns.PATTERN101:return a*l%2+a*l%3==0;case o.Patterns.PATTERN110:return(a*l%2+a*l%3)%2==0;case o.Patterns.PATTERN111:return(a*l%3+(a+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}}o.isValid=function(a){return null!=a&&""!==a&&!isNaN(a)&&a>=0&&a<=7},o.from=function(a){return o.isValid(a)?parseInt(a,10):void 0},o.getPenaltyN1=function(a){const l=a.size;let h=0,g=0,t=0,_=null,u=null;for(let e=0;e<l;e++){g=t=0,_=u=null;for(let n=0;n<l;n++){let i=a.get(e,n);i===_?g++:(g>=5&&(h+=g-5+3),_=i,g=1),i=a.get(n,e),i===u?t++:(t>=5&&(h+=t-5+3),u=i,t=1)}g>=5&&(h+=g-5+3),t>=5&&(h+=t-5+3)}return h},o.getPenaltyN2=function(a){const l=a.size;let h=0;for(let g=0;g<l-1;g++)for(let t=0;t<l-1;t++){const _=a.get(g,t)+a.get(g,t+1)+a.get(g+1,t)+a.get(g+1,t+1);(4===_||0===_)&&h++}return 3*h},o.getPenaltyN3=function(a){const l=a.size;let h=0,g=0,t=0;for(let _=0;_<l;_++){g=t=0;for(let u=0;u<l;u++)g=g<<1&2047|a.get(_,u),u>=10&&(1488===g||93===g)&&h++,t=t<<1&2047|a.get(u,_),u>=10&&(1488===t||93===t)&&h++}return 40*h},o.getPenaltyN4=function(a){let l=0;const h=a.data.length;for(let t=0;t<h;t++)l+=a.data[t];return 10*Math.abs(Math.ceil(100*l/h/5)-10)},o.applyMask=function(a,l){const h=l.size;for(let g=0;g<h;g++)for(let t=0;t<h;t++)l.isReserved(t,g)||l.xor(t,g,d(a,t,g))},o.getBestMask=function(a,l){const h=Object.keys(o.Patterns).length;let g=0,t=1/0;for(let _=0;_<h;_++){l(_),o.applyMask(_,a);const u=o.getPenaltyN1(a)+o.getPenaltyN2(a)+o.getPenaltyN3(a)+o.getPenaltyN4(a);o.applyMask(_,a),u<t&&(t=u,g=_)}return g}},1677:(R,o,f)=>{const d=f(377),s=f(9359);o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(h,g){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!d.isValid(g))throw new Error("Invalid version: "+g);return g>=1&&g<10?h.ccBits[0]:g<27?h.ccBits[1]:h.ccBits[2]},o.getBestModeForData=function(h){return s.testNumeric(h)?o.NUMERIC:s.testAlphanumeric(h)?o.ALPHANUMERIC:s.testKanji(h)?o.KANJI:o.BYTE},o.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},o.isValid=function(h){return h&&h.bit&&h.ccBits},o.from=function(h,g){if(o.isValid(h))return h;try{return function a(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+l)}}(h)}catch{return g}}},6628:(R,o,f)=>{const d=f(1677);function s(a){this.mode=d.NUMERIC,this.data=a.toString()}s.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(l){let h,g,t;for(h=0;h+3<=this.data.length;h+=3)g=this.data.substr(h,3),t=parseInt(g,10),l.put(t,10);const _=this.data.length-h;_>0&&(g=this.data.substr(h),t=parseInt(g,10),l.put(t,3*_+1))},R.exports=s},1744:(R,o,f)=>{const d=f(6686);o.mul=function(a,l){const h=new Uint8Array(a.length+l.length-1);for(let g=0;g<a.length;g++)for(let t=0;t<l.length;t++)h[g+t]^=d.mul(a[g],l[t]);return h},o.mod=function(a,l){let h=new Uint8Array(a);for(;h.length-l.length>=0;){const g=h[0];for(let _=0;_<l.length;_++)h[_]^=d.mul(l[_],g);let t=0;for(;t<h.length&&0===h[t];)t++;h=h.slice(t)}return h},o.generateECPolynomial=function(a){let l=new Uint8Array([1]);for(let h=0;h<a;h++)l=o.mul(l,new Uint8Array([1,d.exp(h)]));return l}},9460:(R,o,f)=>{const d=f(9089),s=f(7424),a=f(4662),l=f(5941),h=f(6214),g=f(8650),t=f(3361),_=f(3677),u=f(6289),e=f(1252),n=f(6254),i=f(1677),r=f(2868);function y(x,N,B){const S=x.size,A=n.getEncodedBits(N,B);let P,I;for(P=0;P<15;P++)I=1==(A>>P&1),x.set(P<6?P:P<8?P+1:S-15+P,8,I,!0),x.set(8,P<8?S-P-1:P<9?15-P-1+1:15-P-1,I,!0);x.set(S-8,8,1,!0)}function U(x,N,B,S){let A;if(Array.isArray(x))A=r.fromArray(x);else{if("string"!=typeof x)throw new Error("Invalid data");{let q=N;if(!q){const nt=r.rawSplit(x);q=e.getBestVersionForData(nt,B)}A=r.fromString(x,q||40)}}const P=e.getBestVersionForData(A,B);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(N){if(N<P)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+P+".\n")}else N=P;const I=function T(x,N,B){const S=new a;B.forEach(function(D){S.put(D.mode.bit,4),S.put(D.getLength(),i.getCharCountIndicator(D.mode,x)),D.write(S)});const I=8*(d.getSymbolTotalCodewords(x)-_.getTotalCodewordsCount(x,N));for(S.getLengthInBits()+4<=I&&S.put(0,4);S.getLengthInBits()%8!=0;)S.putBit(0);const M=(I-S.getLengthInBits())/8;for(let D=0;D<M;D++)S.put(D%2?17:236,8);return function j(x,N,B){const S=d.getSymbolTotalCodewords(N),P=S-_.getTotalCodewordsCount(N,B),I=_.getBlocksCount(N,B),D=I-S%I,q=Math.floor(S/I),nt=Math.floor(P/I),bt=nt+1,ht=q-nt,yt=new u(ht);let ct=0;const at=new Array(I),gt=new Array(I);let lt=0;const Et=new Uint8Array(x.buffer);for(let it=0;it<I;it++){const st=it<D?nt:bt;at[it]=Et.slice(ct,ct+st),gt[it]=yt.encode(at[it]),ct+=st,lt=Math.max(lt,st)}const ft=new Uint8Array(S);let tt,et,mt=0;for(tt=0;tt<lt;tt++)for(et=0;et<I;et++)tt<at[et].length&&(ft[mt++]=at[et][tt]);for(tt=0;tt<ht;tt++)for(et=0;et<I;et++)ft[mt++]=gt[et][tt];return ft}(S,x,N)}(N,B,A),M=d.getSymbolSize(N),D=new l(M);return function c(x,N){const B=x.size,S=g.getPositions(N);for(let A=0;A<S.length;A++){const P=S[A][0],I=S[A][1];for(let M=-1;M<=7;M++)if(!(P+M<=-1||B<=P+M))for(let D=-1;D<=7;D++)I+D<=-1||B<=I+D||x.set(P+M,I+D,M>=0&&M<=6&&(0===D||6===D)||D>=0&&D<=6&&(0===M||6===M)||M>=2&&M<=4&&D>=2&&D<=4,!0)}}(D,N),function m(x){const N=x.size;for(let B=8;B<N-8;B++){const S=B%2==0;x.set(B,6,S,!0),x.set(6,B,S,!0)}}(D),function v(x,N){const B=h.getPositions(N);for(let S=0;S<B.length;S++){const A=B[S][0],P=B[S][1];for(let I=-2;I<=2;I++)for(let M=-2;M<=2;M++)x.set(A+I,P+M,-2===I||2===I||-2===M||2===M||0===I&&0===M,!0)}}(D,N),y(D,B,0),N>=7&&function b(x,N){const B=x.size,S=e.getEncodedBits(N);let A,P,I;for(let M=0;M<18;M++)A=Math.floor(M/3),P=M%3+B-8-3,I=1==(S>>M&1),x.set(A,P,I,!0),x.set(P,A,I,!0)}(D,N),function E(x,N){const B=x.size;let S=-1,A=B-1,P=7,I=0;for(let M=B-1;M>0;M-=2)for(6===M&&M--;;){for(let D=0;D<2;D++)if(!x.isReserved(A,M-D)){let q=!1;I<N.length&&(q=1==(N[I]>>>P&1)),x.set(A,M-D,q),P--,-1===P&&(I++,P=7)}if(A+=S,A<0||B<=A){A-=S,S=-S;break}}}(D,I),isNaN(S)&&(S=t.getBestMask(D,y.bind(null,D,B))),t.applyMask(S,D),y(D,B,S),{modules:D,version:N,errorCorrectionLevel:B,maskPattern:S,segments:A}}o.create=function(N,B){if(typeof N>"u"||""===N)throw new Error("No input text");let A,P,S=s.M;return typeof B<"u"&&(S=s.from(B.errorCorrectionLevel,s.M),A=e.from(B.version),P=t.from(B.maskPattern),B.toSJISFunc&&d.setToSJISFunction(B.toSJISFunc)),U(N,A,S,P)}},6289:(R,o,f)=>{const d=f(1744);function s(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}s.prototype.initialize=function(l){this.degree=l,this.genPoly=d.generateECPolynomial(this.degree)},s.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const h=new Uint8Array(l.length+this.degree);h.set(l);const g=d.mod(h,this.genPoly),t=this.degree-g.length;if(t>0){const _=new Uint8Array(this.degree);return _.set(g,t),_}return g},R.exports=s},9359:(R,o)=>{const f="[0-9]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+")(?:.|[\r\n]))+";o.KANJI=new RegExp(s,"g"),o.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),o.BYTE=new RegExp(a,"g"),o.NUMERIC=new RegExp(f,"g"),o.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const l=new RegExp("^"+s+"$"),h=new RegExp("^"+f+"$"),g=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");o.testKanji=function(_){return l.test(_)},o.testNumeric=function(_){return h.test(_)},o.testAlphanumeric=function(_){return g.test(_)}},2868:(R,o,f)=>{const d=f(1677),s=f(6628),a=f(1018),l=f(4969),h=f(3264),g=f(9359),t=f(9089),_=f(243);function u(b){return unescape(encodeURIComponent(b)).length}function e(b,y,E){const T=[];let j;for(;null!==(j=b.exec(E));)T.push({data:j[0],index:j.index,mode:y,length:j[0].length});return T}function n(b){const y=e(g.NUMERIC,d.NUMERIC,b),E=e(g.ALPHANUMERIC,d.ALPHANUMERIC,b);let T,j;return t.isKanjiModeEnabled()?(T=e(g.BYTE,d.BYTE,b),j=e(g.KANJI,d.KANJI,b)):(T=e(g.BYTE_KANJI,d.BYTE,b),j=[]),y.concat(E,T,j).sort(function(x,N){return x.index-N.index}).map(function(x){return{data:x.data,mode:x.mode,length:x.length}})}function i(b,y){switch(y){case d.NUMERIC:return s.getBitsLength(b);case d.ALPHANUMERIC:return a.getBitsLength(b);case d.KANJI:return h.getBitsLength(b);case d.BYTE:return l.getBitsLength(b)}}function v(b,y){let E;const T=d.getBestModeForData(b);if(E=d.from(y,T),E!==d.BYTE&&E.bit<T.bit)throw new Error('"'+b+'" cannot be encoded with mode '+d.toString(E)+".\n Suggested mode is: "+d.toString(T));switch(E===d.KANJI&&!t.isKanjiModeEnabled()&&(E=d.BYTE),E){case d.NUMERIC:return new s(b);case d.ALPHANUMERIC:return new a(b);case d.KANJI:return new h(b);case d.BYTE:return new l(b)}}o.fromArray=function(y){return y.reduce(function(E,T){return"string"==typeof T?E.push(v(T,null)):T.data&&E.push(v(T.data,T.mode)),E},[])},o.fromString=function(y,E){const j=function c(b){const y=[];for(let E=0;E<b.length;E++){const T=b[E];switch(T.mode){case d.NUMERIC:y.push([T,{data:T.data,mode:d.ALPHANUMERIC,length:T.length},{data:T.data,mode:d.BYTE,length:T.length}]);break;case d.ALPHANUMERIC:y.push([T,{data:T.data,mode:d.BYTE,length:T.length}]);break;case d.KANJI:y.push([T,{data:T.data,mode:d.BYTE,length:u(T.data)}]);break;case d.BYTE:y.push([{data:T.data,mode:d.BYTE,length:u(T.data)}])}}return y}(n(y,t.isKanjiModeEnabled())),U=function m(b,y){const E={},T={start:{}};let j=["start"];for(let U=0;U<b.length;U++){const x=b[U],N=[];for(let B=0;B<x.length;B++){const S=x[B],A=""+U+B;N.push(A),E[A]={node:S,lastCount:0},T[A]={};for(let P=0;P<j.length;P++){const I=j[P];E[I]&&E[I].node.mode===S.mode?(T[I][A]=i(E[I].lastCount+S.length,S.mode)-i(E[I].lastCount,S.mode),E[I].lastCount+=S.length):(E[I]&&(E[I].lastCount=S.length),T[I][A]=i(S.length,S.mode)+4+d.getCharCountIndicator(S.mode,y))}}j=N}for(let U=0;U<j.length;U++)T[j[U]].end=0;return{map:T,table:E}}(j,E),x=_.find_path(U.map,"start","end"),N=[];for(let B=1;B<x.length-1;B++)N.push(U.table[x[B]].node);return o.fromArray(function r(b){return b.reduce(function(y,E){const T=y.length-1>=0?y[y.length-1]:null;return T&&T.mode===E.mode?(y[y.length-1].data+=E.data,y):(y.push(E),y)},[])}(N))},o.rawSplit=function(y){return o.fromArray(n(y,t.isKanjiModeEnabled()))}},9089:(R,o)=>{let f;const d=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];o.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return 4*a+17},o.getSymbolTotalCodewords=function(a){return d[a]},o.getBCHDigit=function(s){let a=0;for(;0!==s;)a++,s>>>=1;return a},o.setToSJISFunction=function(a){if("function"!=typeof a)throw new Error('"toSJISFunc" is not a valid function.');f=a},o.isKanjiModeEnabled=function(){return typeof f<"u"},o.toSJIS=function(a){return f(a)}},377:(R,o)=>{o.isValid=function(d){return!isNaN(d)&&d>=1&&d<=40}},1252:(R,o,f)=>{const d=f(9089),s=f(3677),a=f(7424),l=f(1677),h=f(377),t=d.getBCHDigit(7973);function u(i,r){return l.getCharCountIndicator(i,r)+4}function e(i,r){let c=0;return i.forEach(function(m){const v=u(m.mode,r);c+=v+m.getBitsLength()}),c}o.from=function(r,c){return h.isValid(r)?parseInt(r,10):c},o.getCapacity=function(r,c,m){if(!h.isValid(r))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=l.BYTE);const y=8*(d.getSymbolTotalCodewords(r)-s.getTotalCodewordsCount(r,c));if(m===l.MIXED)return y;const E=y-u(m,r);switch(m){case l.NUMERIC:return Math.floor(E/10*3);case l.ALPHANUMERIC:return Math.floor(E/11*2);case l.KANJI:return Math.floor(E/13);default:return Math.floor(E/8)}},o.getBestVersionForData=function(r,c){let m;const v=a.from(c,a.M);if(Array.isArray(r)){if(r.length>1)return function n(i,r){for(let c=1;c<=40;c++)if(e(i,c)<=o.getCapacity(c,r,l.MIXED))return c}(r,v);if(0===r.length)return 1;m=r[0]}else m=r;return function _(i,r,c){for(let m=1;m<=40;m++)if(r<=o.getCapacity(m,c,i))return m}(m.mode,m.getLength(),v)},o.getEncodedBits=function(r){if(!h.isValid(r)||r<7)throw new Error("Invalid QR Code version");let c=r<<12;for(;d.getBCHDigit(c)-t>=0;)c^=7973<<d.getBCHDigit(c)-t;return r<<12|c}},7030:(R,o,f)=>{const d=f(7077);o.render=function(h,g,t){let _=t,u=g;typeof _>"u"&&(!g||!g.getContext)&&(_=g,g=void 0),g||(u=function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),_=d.getOptions(_);const e=d.getImageWidth(h.modules.size,_),n=u.getContext("2d"),i=n.createImageData(e,e);return d.qrToImageData(i.data,h,_),function s(l,h,g){l.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=g,h.width=g,h.style.height=g+"px",h.style.width=g+"px"}(n,u,e),n.putImageData(i,0,0),u},o.renderToDataURL=function(h,g,t){let _=t;return typeof _>"u"&&(!g||!g.getContext)&&(_=g,g=void 0),_||(_={}),o.render(h,g,_).toDataURL(_.type||"image/png",(_.rendererOpts||{}).quality)}},6511:(R,o,f)=>{const d=f(7077);function s(h,g){const t=h.a/255,_=g+'="'+h.hex+'"';return t<1?_+" "+g+'-opacity="'+t.toFixed(2).slice(1)+'"':_}function a(h,g,t){let _=h+g;return typeof t<"u"&&(_+=" "+t),_}o.render=function(g,t,_){const u=d.getOptions(t),e=g.modules.size,n=g.modules.data,i=e+2*u.margin,r=u.color.light.a?"<path "+s(u.color.light,"fill")+' d="M0 0h'+i+"v"+i+'H0z"/>':"",c="<path "+s(u.color.dark,"stroke")+' d="'+function l(h,g,t){let _="",u=0,e=!1,n=0;for(let i=0;i<h.length;i++){const r=Math.floor(i%g),c=Math.floor(i/g);!r&&!e&&(e=!0),h[i]?(n++,i>0&&r>0&&h[i-1]||(_+=e?a("M",r+t,.5+c+t):a("m",u,0),u=0,e=!1),r+1<g&&h[i+1]||(_+=a("h",n),n=0)):u++}return _}(n,e,u.margin)+'"/>',b='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+'viewBox="0 0 '+i+" "+i+'" shape-rendering="crispEdges">'+r+c+"</svg>\n";return"function"==typeof _&&_(null,b),b}},7077:(R,o)=>{function f(d){if("number"==typeof d&&(d=d.toString()),"string"!=typeof d)throw new Error("Color should be defined as hex string");let s=d.slice().replace("#","").split("");if(s.length<3||5===s.length||s.length>8)throw new Error("Invalid hex color: "+d);(3===s.length||4===s.length)&&(s=Array.prototype.concat.apply([],s.map(function(l){return[l,l]}))),6===s.length&&s.push("F","F");const a=parseInt(s.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:255&a,hex:"#"+s.slice(0,6).join("")}}o.getOptions=function(s){s||(s={}),s.color||(s.color={});const l=s.width&&s.width>=21?s.width:void 0;return{width:l,scale:l?4:s.scale||4,margin:typeof s.margin>"u"||null===s.margin||s.margin<0?4:s.margin,color:{dark:f(s.color.dark||"#000000ff"),light:f(s.color.light||"#ffffffff")},type:s.type,rendererOpts:s.rendererOpts||{}}},o.getScale=function(s,a){return a.width&&a.width>=s+2*a.margin?a.width/(s+2*a.margin):a.scale},o.getImageWidth=function(s,a){const l=o.getScale(s,a);return Math.floor((s+2*a.margin)*l)},o.qrToImageData=function(s,a,l){const h=a.modules.size,g=a.modules.data,t=o.getScale(h,l),_=Math.floor((h+2*l.margin)*t),u=l.margin*t,e=[l.color.light,l.color.dark];for(let n=0;n<_;n++)for(let i=0;i<_;i++){let r=4*(n*_+i),c=l.color.light;n>=u&&i>=u&&n<_-u&&i<_-u&&(c=e[g[Math.floor((n-u)/t)*h+Math.floor((i-u)/t)]?1:0]),s[r++]=c.r,s[r++]=c.g,s[r++]=c.b,s[r]=c.a}}}}]);